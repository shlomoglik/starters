!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=18)}([function(t,e,n){(function(e,n){!function(){"use strict";function r(t,e,n,r,o,a){return{tag:t,key:e,attrs:n,children:r,text:o,dom:a,domSize:void 0,state:void 0,_state:void 0,events:void 0,instance:void 0,skip:!1}}r.normalize=function(t){return Array.isArray(t)?r("[",void 0,void 0,r.normalizeChildren(t),void 0,void 0):null!=t&&"object"!=typeof t?r("#",void 0,void 0,!1===t?"":t,void 0,void 0):t},r.normalizeChildren=function(t){for(var e=0;e<t.length;e++)t[e]=r.normalize(t[e]);return t};var o=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,a={},i={}.hasOwnProperty;function l(t){for(var e in t)if(i.call(t,e))return!1;return!0}function s(t){var e,n=arguments[1],s=2;if(null==t||"string"!=typeof t&&"function"!=typeof t&&"function"!=typeof t.view)throw Error("The selector must be either a string or a component.");if("string"==typeof t)var c=a[t]||function(t){for(var e,n="div",r=[],i={};e=o.exec(t);){var l=e[1],s=e[2];if(""===l&&""!==s)n=s;else if("#"===l)i.id=s;else if("."===l)r.push(s);else if("["===e[3][0]){var c=e[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?r.push(c):i[e[4]]=""===c?c:c||!0}}return r.length>0&&(i.className=r.join(" ")),a[t]={tag:n,attrs:i}}(t);if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},s=1),arguments.length===s+1)e=arguments[s],Array.isArray(e)||(e=[e]);else for(e=[];s<arguments.length;)e.push(arguments[s++]);var u=r.normalizeChildren(e);return"string"==typeof t?function(t,e,n){var o,a,s=!1,c=e.className||e.class;if(!l(t.attrs)&&!l(e)){var u={};for(var d in e)i.call(e,d)&&(u[d]=e[d]);e=u}for(var d in t.attrs)i.call(t.attrs,d)&&(e[d]=t.attrs[d]);for(var d in void 0!==c&&(void 0!==e.class&&(e.class=void 0,e.className=c),null!=t.attrs.className&&(e.className=t.attrs.className+" "+c)),e)if(i.call(e,d)&&"key"!==d){s=!0;break}return Array.isArray(n)&&1===n.length&&null!=n[0]&&"#"===n[0].tag?a=n[0].children:o=n,r(t.tag,e.key,s?e:void 0,o,a)}(c,n,u):r(t,n.key,n,u)}s.trust=function(t){return null==t&&(t=""),r("<",void 0,void 0,t,void 0,void 0)},s.fragment=function(t,e){return r("[",t.key,t,r.normalizeChildren(e),void 0,void 0)};var c=s;if((u=function(t){if(!(this instanceof u))throw new Error("Promise must be called with `new`");if("function"!=typeof t)throw new TypeError("executor must be a function");var n=this,r=[],o=[],a=c(r,!0),i=c(o,!1),l=n._instance={resolvers:r,rejectors:o},s="function"==typeof e?e:setTimeout;function c(t,e){return function a(c){var u;try{if(!e||null==c||"object"!=typeof c&&"function"!=typeof c||"function"!=typeof(u=c.then))s(function(){e||0!==t.length||console.error("Possible unhandled promise rejection:",c);for(var n=0;n<t.length;n++)t[n](c);r.length=0,o.length=0,l.state=e,l.retry=function(){a(c)}});else{if(c===n)throw new TypeError("Promise can't be resolved w/ itself");d(u.bind(c))}}catch(t){i(t)}}}function d(t){var e=0;function n(t){return function(n){e++>0||t(n)}}var r=n(i);try{t(n(a),r)}catch(t){r(t)}}d(t)}).prototype.then=function(t,e){var n,r,o=this._instance;function a(t,e,a,i){e.push(function(e){if("function"!=typeof t)a(e);else try{n(t(e))}catch(t){r&&r(t)}}),"function"==typeof o.retry&&i===o.state&&o.retry()}var i=new u(function(t,e){n=t,r=e});return a(t,o.resolvers,n,!0),a(e,o.rejectors,r,!1),i},u.prototype.catch=function(t){return this.then(null,t)},u.resolve=function(t){return t instanceof u?t:new u(function(e){e(t)})},u.reject=function(t){return new u(function(e,n){n(t)})},u.all=function(t){return new u(function(e,n){var r=t.length,o=0,a=[];if(0===t.length)e([]);else for(var i=0;i<t.length;i++)!function(i){function l(t){o++,a[i]=t,o===r&&e(a)}null==t[i]||"object"!=typeof t[i]&&"function"!=typeof t[i]||"function"!=typeof t[i].then?l(t[i]):t[i].then(l,n)}(i)})},u.race=function(t){return new u(function(e,n){for(var r=0;r<t.length;r++)t[r].then(e,n)})},"undefined"!=typeof window){void 0===window.Promise&&(window.Promise=u);var u=window.Promise}else if(void 0!==n){void 0===n.Promise&&(n.Promise=u);u=n.Promise}var d=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)r(n,t[n]);return e.join("&");function r(t,n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(t+"["+o+"]",n[o]);else if("[object Object]"===Object.prototype.toString.call(n))for(var o in n)r(t+"["+o+"]",n[o]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}},f=new RegExp("^file://","i"),p=function(t,e){var n,r=0;function o(){var t=0;function e(){0==--t&&"function"==typeof n&&n()}return function n(r){var o=r.then;return r.then=function(){t++;var a=o.apply(r,arguments);return a.then(e,function(n){if(e(),0===t)throw n}),n(a)},r}}function a(t,e){if("string"==typeof t){var n=t;null==(t=e||{}).url&&(t.url=n)}return t}function i(t,e){if(null==e)return t;for(var n=t.match(/:[^\/]+/gi)||[],r=0;r<n.length;r++){var o=n[r].slice(1);null!=e[o]&&(t=t.replace(n[r],e[o]))}return t}function l(t,e){var n=d(e);if(""!==n){var r=t.indexOf("?")<0?"?":"&";t+=r+n}return t}function s(t){try{return""!==t?JSON.parse(t):null}catch(e){throw new Error(t)}}function c(t){return t.responseText}function u(t,e){if("function"==typeof t){if(!Array.isArray(e))return new t(e);for(var n=0;n<e.length;n++)e[n]=new t(e[n])}return e}return{request:function(n,r){var d=o();n=a(n,r);var p=new e(function(e,r){null==n.method&&(n.method="GET"),n.method=n.method.toUpperCase();var o="GET"!==n.method&&"TRACE"!==n.method&&("boolean"!=typeof n.useBody||n.useBody);"function"!=typeof n.serialize&&(n.serialize="undefined"!=typeof FormData&&n.data instanceof FormData?function(t){return t}:JSON.stringify),"function"!=typeof n.deserialize&&(n.deserialize=s),"function"!=typeof n.extract&&(n.extract=c),n.url=i(n.url,n.data),o?n.data=n.serialize(n.data):n.url=l(n.url,n.data);var a=new t.XMLHttpRequest,d=!1,p=a.abort;for(var m in a.abort=function(){d=!0,p.call(a)},a.open(n.method,n.url,"boolean"!=typeof n.async||n.async,"string"==typeof n.user?n.user:void 0,"string"==typeof n.password?n.password:void 0),n.serialize!==JSON.stringify||!o||n.headers&&n.headers.hasOwnProperty("Content-Type")||a.setRequestHeader("Content-Type","application/json; charset=utf-8"),n.deserialize!==s||n.headers&&n.headers.hasOwnProperty("Accept")||a.setRequestHeader("Accept","application/json, text/*"),n.withCredentials&&(a.withCredentials=n.withCredentials),n.headers)({}).hasOwnProperty.call(n.headers,m)&&a.setRequestHeader(m,n.headers[m]);"function"==typeof n.config&&(a=n.config(a,n)||a),a.onreadystatechange=function(){if(!d&&4===a.readyState)try{var t=n.extract!==c?n.extract(a,n):n.deserialize(n.extract(a,n));if(a.status>=200&&a.status<300||304===a.status||f.test(n.url))e(u(n.type,t));else{var o=new Error(a.responseText);for(var i in t)o[i]=t[i];r(o)}}catch(t){r(t)}},o&&null!=n.data?a.send(n.data):a.send()});return!0===n.background?p:d(p)},jsonp:function(n,s){var c=o();n=a(n,s);var d=new e(function(e,o){var a=n.callbackName||"_mithril_"+Math.round(1e16*Math.random())+"_"+r++,s=t.document.createElement("script");t[a]=function(r){s.parentNode.removeChild(s),e(u(n.type,r)),delete t[a]},s.onerror=function(){s.parentNode.removeChild(s),o(new Error("JSONP request failed")),delete t[a]},null==n.data&&(n.data={}),n.url=i(n.url,n.data),n.data[n.callbackKey||"callback"]=a,s.src=l(n.url,n.data),t.document.documentElement.appendChild(s)});return!0===n.background?d:c(d)},setCompletionCallback:function(t){n=t}}}(window,u),m=function(t){var e,n=t.document,o=n.createDocumentFragment(),a={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function i(t){return t.attrs&&t.attrs.xmlns||a[t.tag]}function l(t,e,n,r,o,a,i){for(var l=n;l<r;l++){var c=e[l];null!=c&&s(t,c,o,i,a)}}function s(t,e,a,d,f){var p=e.tag;if("string"!=typeof p)return function(t,e,n,r,a){if(u(e,n),null!=e.instance){var i=s(t,e.instance,n,r,a);return e.dom=e.instance.dom,e.domSize=null!=e.dom?e.instance.domSize:0,h(t,i,a),i}return e.domSize=0,o}(t,e,a,d,f);switch(e.state={},null!=e.attrs&&L(e.attrs,e,a),p){case"#":return function(t,e,r){return e.dom=n.createTextNode(e.children),h(t,e.dom,r),e.dom}(t,e,f);case"<":return c(t,e,f);case"[":return function(t,e,r,o,a){var i=n.createDocumentFragment();if(null!=e.children){var s=e.children;l(i,s,0,s.length,r,null,o)}return e.dom=i.firstChild,e.domSize=i.childNodes.length,h(t,i,a),i}(t,e,a,d,f);default:return function(t,e,o,a,s){var c=e.tag,u=e.attrs,d=u&&u.is,f=(a=i(e)||a)?d?n.createElementNS(a,c,{is:d}):n.createElementNS(a,c):d?n.createElement(c,{is:d}):n.createElement(c);e.dom=f,null!=u&&function(t,e,n){for(var r in e)w(t,r,null,e[r],n)}(e,u,a);if(h(t,f,s),null!=e.attrs&&null!=e.attrs.contenteditable)v(e);else if(null!=e.text&&(""!==e.text?f.textContent=e.text:e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),null!=e.children){var p=e.children;l(f,p,0,p.length,o,null,a),function(t){var e=t.attrs;"select"===t.tag&&null!=e&&("value"in e&&w(t,"value",null,e.value,void 0),"selectedIndex"in e&&w(t,"selectedIndex",null,e.selectedIndex,void 0))}(e)}return f}(t,e,a,d,f)}}function c(t,e,r){var o={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"}[(e.children.match(/^\s*?<(\w+)/im)||[])[1]]||"div",a=n.createElement(o);a.innerHTML=e.children,e.dom=a.firstChild,e.domSize=a.childNodes.length;for(var i,l=n.createDocumentFragment();i=a.firstChild;)l.appendChild(i);return h(t,l,r),l}function u(t,e){var n;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(n=t.state.view).$$reentrantLock$$)return o;n.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(n=t.tag).$$reentrantLock$$)return o;n.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}if(t._state=t.state,null!=t.attrs&&L(t.attrs,t,e),L(t._state,t,e),t.instance=r.normalize(t._state.view.call(t.state,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");n.$$reentrantLock$$=null}function d(t,e,n,r,o,a,i){if(e!==n&&(null!=e||null!=n))if(null==e)l(t,n,0,n.length,o,a,i);else if(null==n)_(e,0,e.length,n);else{if(e.length===n.length){for(var c=!1,u=0;u<n.length;u++)if(null!=n[u]&&null!=e[u]){c=null==n[u].key&&null==e[u].key;break}if(c){for(u=0;u<e.length;u++)e[u]!==n[u]&&(null==e[u]&&null!=n[u]?s(t,n[u],o,i,g(e,u+1,a)):null==n[u]?_(e,u,u+1,n):f(t,e[u],n[u],o,g(e,u+1,a),r,i));return}}if(r=r||function(t,e){if(null!=t.pool&&Math.abs(t.pool.length-e.length)<=Math.abs(t.length-e.length)){var n=t[0]&&t[0].children&&t[0].children.length||0,r=t.pool[0]&&t.pool[0].children&&t.pool[0].children.length||0,o=e[0]&&e[0].children&&e[0].children.length||0;if(Math.abs(r-o)<=Math.abs(n-o))return!0}return!1}(e,n)){var d=e.pool;e=e.concat(e.pool)}for(var v,b=0,y=0,w=e.length-1,x=n.length-1;w>=b&&x>=y;){if((L=e[b])!==(D=n[y])||r)if(null==L)b++;else if(null==D)y++;else if(L.key===D.key){var k=null!=d&&b>=e.length-d.length||null==d&&r;y++,f(t,L,D,o,g(e,++b,a),k,i),r&&L.tag===D.tag&&h(t,m(L),a)}else{if((L=e[w])!==D||r)if(null==L)w--;else if(null==D)y++;else{if(L.key!==D.key)break;k=null!=d&&w>=e.length-d.length||null==d&&r;f(t,L,D,o,g(e,w+1,a),k,i),(r||y<x)&&h(t,m(L),g(e,b,a)),w--,y++}else w--,y++}else b++,y++}for(;w>=b&&x>=y;){var L,D;if((L=e[w])!==(D=n[x])||r)if(null==L)w--;else if(null==D)x--;else if(L.key===D.key){k=null!=d&&w>=e.length-d.length||null==d&&r;f(t,L,D,o,g(e,w+1,a),k,i),r&&L.tag===D.tag&&h(t,m(L),a),null!=L.dom&&(a=L.dom),w--,x--}else{if(v||(v=p(e,w)),null!=D){var T=v[D.key];if(null!=T){var j=e[T];k=null!=d&&T>=e.length-d.length||null==d&&r;f(t,j,D,o,g(e,w+1,a),r,i),h(t,m(j),a),e[T].skip=!0,null!=j.dom&&(a=j.dom)}else{a=s(t,D,o,i,a)}}x--}else w--,x--;if(x<y)break}l(t,n,y,x+1,o,a,i),_(e,b,w+1,n)}}function f(t,e,n,o,a,l,p){var g=e.tag;if(g===n.tag){if(n.state=e.state,n._state=e._state,n.events=e.events,!l&&function(t,e){var n,r;null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate&&(n=t.attrs.onbeforeupdate.call(t.state,t,e));"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeupdate&&(r=t._state.onbeforeupdate.call(t.state,t,e));if(!(void 0===n&&void 0===r||n||r))return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,!0;return!1}(n,e))return;if("string"==typeof g)switch(null!=n.attrs&&(l?(n.state={},L(n.attrs,n,o)):D(n.attrs,n,o)),g){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children);e.dom=t.dom}(e,n);break;case"<":!function(t,e,n,r){e.children!==n.children?(m(e),c(t,n,r)):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,a);break;case"[":!function(t,e,n,r,o,a,i){d(t,e.children,n.children,r,o,a,i);var l=0,s=n.children;if(n.dom=null,null!=s){for(var c=0;c<s.length;c++){var u=s[c];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),l+=u.domSize||1)}1!==l&&(n.domSize=l)}}(t,e,n,l,o,a,p);break;default:!function(t,e,n,o,a){var l=e.dom=t.dom;a=i(e)||a,"textarea"===e.tag&&(null==e.attrs&&(e.attrs={}),null!=e.text&&(e.attrs.value=e.text,e.text=void 0));(function(t,e,n,r){if(null!=n)for(var o in n)w(t,o,e&&e[o],n[o],r);if(null!=e)for(var o in e)null!=n&&o in n||("className"===o&&(o="class"),"o"!==o[0]||"n"!==o[1]||x(o)?"key"!==o&&t.dom.removeAttribute(o):k(t,o,void 0))})(e,t.attrs,e.attrs,a),null!=e.attrs&&null!=e.attrs.contenteditable?v(e):null!=t.text&&null!=e.text&&""!==e.text?t.text.toString()!==e.text.toString()&&(t.dom.firstChild.nodeValue=e.text):(null!=t.text&&(t.children=[r("#",void 0,void 0,t.text,void 0,t.dom.firstChild)]),null!=e.text&&(e.children=[r("#",void 0,void 0,e.text,void 0,void 0)]),d(l,t.children,e.children,n,o,null,a))}(e,n,l,o,p)}else!function(t,e,n,o,a,i,l){if(i)u(n,o);else{if(n.instance=r.normalize(n._state.view.call(n.state,n)),n.instance===n)throw Error("A view cannot return the vnode it received as argument");null!=n.attrs&&D(n.attrs,n,o),D(n._state,n,o)}null!=n.instance?(null==e.instance?s(t,n.instance,o,l,a):f(t,e.instance,n.instance,o,a,i,l),n.dom=n.instance.dom,n.domSize=n.instance.domSize):null!=e.instance?(b(e.instance,null),n.dom=void 0,n.domSize=0):(n.dom=e.dom,n.domSize=e.domSize)}(t,e,n,o,a,l,p)}else b(e,null),s(t,n,o,p,a)}function p(t,e){var n={},r=0;for(r=0;r<e;r++){var o=t[r];if(null!=o){var a=o.key;null!=a&&(n[a]=r)}}return n}function m(t){var e=t.domSize;if(null!=e||null==t.dom){var r=n.createDocumentFragment();if(e>0){for(var o=t.dom;--e;)r.appendChild(o.nextSibling);r.insertBefore(o,r.firstChild)}return r}return t.dom}function g(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function h(t,e,n){n&&n.parentNode?t.insertBefore(e,n):t.appendChild(e)}function v(t){var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=t.text||null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted")}function _(t,e,n,r){for(var o=e;o<n;o++){var a=t[o];null!=a&&(a.skip?a.skip=!1:b(a,r))}}function b(t,e){var n,r=1,o=0;t.attrs&&"function"==typeof t.attrs.onbeforeremove&&(null!=(n=t.attrs.onbeforeremove.call(t.state,t))&&"function"==typeof n.then&&(r++,n.then(a,a)));"string"!=typeof t.tag&&"function"==typeof t._state.onbeforeremove&&(null!=(n=t._state.onbeforeremove.call(t.state,t))&&"function"==typeof n.then&&(r++,n.then(a,a)));function a(){if(++o===r&&(function t(e){e.attrs&&"function"==typeof e.attrs.onremove&&e.attrs.onremove.call(e.state,e);if("string"!=typeof e.tag)"function"==typeof e._state.onremove&&e._state.onremove.call(e.state,e),null!=e.instance&&t(e.instance);else{var n=e.children;if(Array.isArray(n))for(var r=0;r<n.length;r++){var o=n[r];null!=o&&t(o)}}}(t),t.dom)){var n=t.domSize||1;if(n>1)for(var a=t.dom;--n;)y(a.nextSibling);y(t.dom),null==e||null!=t.domSize||null!=(i=t.attrs)&&(i.oncreate||i.onupdate||i.onbeforeremove||i.onremove)||"string"!=typeof t.tag||(e.pool?e.pool.push(t):e.pool=[t])}var i}a()}function y(t){var e=t.parentNode;null!=e&&e.removeChild(t)}function w(t,e,r,o,a){var i=t.dom;if("key"!==e&&"is"!==e&&(r!==o||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===n.activeElement}(t,e)||"object"==typeof o)&&void 0!==o&&!x(e)){var l,s=e.indexOf(":");if(s>-1&&"xlink"===e.substr(0,s))i.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(s+1),o);else if("o"===e[0]&&"n"===e[1]&&"function"==typeof o)k(t,e,o);else if("style"===e)!function(t,e,n){e===n&&(t.style.cssText="",e=null);if(null==n)t.style.cssText="";else if("string"==typeof n)t.style.cssText=n;else{for(var r in"string"==typeof e&&(t.style.cssText=""),n)t.style[r]=n[r];if(null!=e&&"string"!=typeof e)for(var r in e)r in n||(t.style[r]="")}}(i,r,o);else if(e in i&&("href"!==(l=e)&&"list"!==l&&"form"!==l&&"width"!==l&&"height"!==l)&&void 0===a&&!function(t){return t.attrs.is||t.tag.indexOf("-")>-1}(t)){if("value"===e){var c=""+o;if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===c&&t.dom===n.activeElement)return;if("select"===t.tag)if(null===o){if(-1===t.dom.selectedIndex&&t.dom===n.activeElement)return}else if(null!==r&&t.dom.value===c&&t.dom===n.activeElement)return;if("option"===t.tag&&null!=r&&t.dom.value===c)return}if("input"===t.tag&&"type"===e)return void i.setAttribute(e,o);i[e]=o}else"boolean"==typeof o?o?i.setAttribute(e,""):i.removeAttribute(e):i.setAttribute("className"===e?"class":e,o)}}function x(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function k(t,n,r){var o=t.dom,a="function"!=typeof e?r:function(t){var n=r.call(o,t);return e.call(o,t),n};if(n in o)o[n]="function"==typeof r?a:null;else{var i=n.slice(2);if(void 0===t.events&&(t.events={}),t.events[n]===a)return;null!=t.events[n]&&o.removeEventListener(i,t.events[n],!1),"function"==typeof r&&(t.events[n]=a,o.addEventListener(i,t.events[n],!1))}}function L(t,e,n){"function"==typeof t.oninit&&t.oninit.call(e.state,e),"function"==typeof t.oncreate&&n.push(t.oncreate.bind(e.state,e))}function D(t,e,n){"function"==typeof t.onupdate&&n.push(t.onupdate.bind(e.state,e))}return{render:function(t,e){if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var o=[],a=n.activeElement,i=t.namespaceURI;null==t.vnodes&&(t.textContent=""),Array.isArray(e)||(e=[e]),d(t,t.vnodes,r.normalizeChildren(e),!1,o,null,"http://www.w3.org/1999/xhtml"===i?void 0:i),t.vnodes=e,null!=a&&n.activeElement!==a&&a.focus();for(var l=0;l<o.length;l++)o[l]()},setEventCallback:function(t){return e=t}}};var g=function(t){var e=m(t);e.setEventCallback(function(t){!1===t.redraw?t.redraw=void 0:o()});var n=[];function r(t){var e=n.indexOf(t);e>-1&&n.splice(e,2)}function o(){for(var t=1;t<n.length;t+=2)n[t]()}return{subscribe:function(t,e){r(t),n.push(t,function(t){var e=0,n=null,r="function"==typeof requestAnimationFrame?requestAnimationFrame:setTimeout;return function(){var o=Date.now();0===e||o-e>=16?(e=o,t()):null===n&&(n=r(function(){n=null,t(),e=Date.now()},16-(o-e)))}}(e))},unsubscribe:r,redraw:o,render:e.render}}(window);p.setCompletionCallback(g.redraw);var h;c.mount=(h=g,function(t,e){if(null===e)return h.render(t,[]),void h.unsubscribe(t);if(null==e.view&&"function"!=typeof e)throw new Error("m.mount(element, component) expects a component, not a vnode");h.subscribe(t,function(){h.render(t,r(e))}),h.redraw()});var v=u,_=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var e=t.split("&"),n={},r={},o=0;o<e.length;o++){var a=e[o].split("="),i=decodeURIComponent(a[0]),l=2===a.length?decodeURIComponent(a[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var s=i.split(/\]\[?|\[/),c=n;i.indexOf("[")>-1&&s.pop();for(var u=0;u<s.length;u++){var d=s[u],f=s[u+1],p=""==f||!isNaN(parseInt(f,10)),m=u===s.length-1;if(""===d)null==r[i=s.slice(0,u).join()]&&(r[i]=0),d=r[i]++;null==c[d]&&(c[d]=m?l:p?[]:{}),c=c[d]}}return n},b=function(t){var n,r="function"==typeof t.history.pushState,o="function"==typeof e?e:setTimeout;function a(e){var n=t.location[e].replace(/(?:%[a-f89][a-f0-9])+/gim,decodeURIComponent);return"pathname"===e&&"/"!==n[0]&&(n="/"+n),n}function i(t,e,n){var r=t.indexOf("?"),o=t.indexOf("#"),a=r>-1?r:o>-1?o:t.length;if(r>-1){var i=o>-1?o:t.length,l=_(t.slice(r+1,i));for(var s in l)e[s]=l[s]}if(o>-1){var c=_(t.slice(o+1));for(var s in c)n[s]=c[s]}return t.slice(0,a)}var l={prefix:"#!",getPath:function(){switch(l.prefix.charAt(0)){case"#":return a("hash").slice(l.prefix.length);case"?":return a("search").slice(l.prefix.length)+a("hash");default:return a("pathname").slice(l.prefix.length)+a("search")+a("hash")}},setPath:function(e,n,o){var a={},s={};if(e=i(e,a,s),null!=n){for(var c in n)a[c]=n[c];e=e.replace(/:([^\/]+)/g,function(t,e){return delete a[e],n[e]})}var u=d(a);u&&(e+="?"+u);var f=d(s);if(f&&(e+="#"+f),r){var p=o?o.state:null,m=o?o.title:null;t.onpopstate(),o&&o.replace?t.history.replaceState(p,m,l.prefix+e):t.history.pushState(p,m,l.prefix+e)}else t.location.href=l.prefix+e}};return l.defineRoutes=function(e,a,s){function c(){var n=l.getPath(),r={},o=i(n,r,r),c=t.history.state;if(null!=c)for(var u in c)r[u]=c[u];for(var d in e){var f=new RegExp("^"+d.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(f.test(o))return void o.replace(f,function(){for(var t=d.match(/:[^\/]+/g)||[],o=[].slice.call(arguments,1,-2),i=0;i<t.length;i++)r[t[i].replace(/:|\./g,"")]=decodeURIComponent(o[i]);a(e[d],r,n,d)})}s(n,r)}var u;r?t.onpopstate=(u=c,function(){null==n&&(n=o(function(){n=null,u()}))}):"#"===l.prefix.charAt(0)&&(t.onhashchange=c),c()},l};c.route=function(t,e){var n,o,a,i,l,s=b(t),c=function(t,c,u){if(null==t)throw new Error("Ensure the DOM element that was passed to `m.route` is not undefined");var d=function(){null!=n&&e.render(t,n(r(o,a.key,a)))},f=function(t){if(t===c)throw new Error("Could not resolve default route "+c);s.setPath(c,null,{replace:!0})};s.defineRoutes(u,function(t,e,r){var s=l=function(t,c){s===l&&(o=null==c||"function"!=typeof c.view&&"function"!=typeof c?"div":c,a=e,i=r,l=null,n=(t.render||function(t){return t}).bind(t),d())};t.view||"function"==typeof t?s({},t):t.onmatch?v.resolve(t.onmatch(e,r)).then(function(e){s(t,e)},f):s(t,"div")},f),e.subscribe(t,d)};return c.set=function(t,e,n){null!=l&&((n=n||{}).replace=!0),l=null,s.setPath(t,e,n)},c.get=function(){return i},c.prefix=function(t){s.prefix=t},c.link=function(t){t.dom.setAttribute("href",s.prefix+t.attrs.href),t.dom.onclick=function(t){if(!(t.ctrlKey||t.metaKey||t.shiftKey||2===t.which)){t.preventDefault(),t.redraw=!1;var e=this.getAttribute("href");0===e.indexOf(s.prefix)&&(e=e.slice(s.prefix.length)),c.set(e,void 0,void 0)}}},c.param=function(t){return void 0!==a&&void 0!==t?a[t]:a},c}(window,g),c.withAttr=function(t,e,n){return function(r){e.call(n||this,t in r.currentTarget?r.currentTarget[t]:r.currentTarget.getAttribute(t))}};var y=m(window);c.render=y.render,c.redraw=g.redraw,c.request=p.request,c.jsonp=p.jsonp,c.parseQueryString=_,c.buildQueryString=d,c.version="1.1.6",c.vnode=r,t.exports=c}()}).call(this,n(19).setImmediate,n(9))},function(t,e,n){"use strict";var r=l(n(2)),o=l(n(3)),a=l(n(0)),i=n(13);function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){t.onSnapshot(function(r){var o=[];r.forEach(function(t){o.push(Object.assign(t.data(),{id:t.id}))}),console.log("listen on collection:",t.path,"snap size = ",r.size,"result data is: ",o),e[n]=o,a.default.redraw()})}t.exports={getDoc:function(t,e){return i.db.collection(t).doc(e).get()},insertDoc:function(t,e){return i.db.collection(t).add(e)},deleteDoc:function(t,e){i.db.collection(t).doc(e).delete().then(function(t){return a.default.redraw()})},updateDoc:function(t,e,n){var r=i.db.collection(t).doc(e);r.get().then(function(t){t.exists?(r.set(n,{merge:!0}),a.default.redraw()):console.log("doc not exist")}).catch(function(t){return console.error(t)})},addOrUpdateDoc:function(t,e,n){i.db.collection(t).doc(e).set(n,{merge:!0}),a.default.redraw()},addToMapInDoc:function(t,e,n,r){console.log(e);var o=i.db.collection(t).doc(e);o.get().then(function(t){if(t.exists){var e=t.data()[n];e.push(r),o.update(n,e),a.default.redraw()}else console.log("doc not exist")}).catch(function(t){return console.error(t)})},updateMapInDoc:function(t,e,n,r){var o=i.db.collection(t).doc(e);o.get().then(function(t){t.exists?(o.update(n,r),a.default.redraw()):console.log("doc not exist")}).catch(function(t){return console.error(t)})},getLeads:function(t){var e=JSON.parse(sessionStorage.getItem("User"));if(e){var n={assignRef:e.path||"",role:"main"};s(i.db.collection("leads").where("assigns","array-contains",n),r.default,"storeLeads")}},getContacts:function(){s(i.db.collection("contacts"),r.default,"storeContacts")},getSettingGroups:function(){o.default.setGroup.map(function(t){t.groups&&t.groups.map(function(t){t.data=[];var e=t.collection;i.db.collection(e).onSnapshot(function(e){var n=[];e.forEach(function(t){n.push(Object.assign(t.data(),{id:t.id}))}),t.data=n,a.default.redraw()})})})},getSourceList:function(){s(i.db.collection("setLeadSource"),o.default,"leadSourceList")},getGroupLeadsList:function(){s(i.db.collection("setLeadGroup"),o.default,"leadGroupsList")},getFollowUps:function(t,e){s(i.db.collection("leads/"+t+"/followUps"),e.state,"followUps")},getTasks:function(t,e){s(i.db.collection("leads/"+t+"/tasks"),e.state,"tasks")},getStatus:function(t,e){s(i.db.collection("leads/"+t+"/status"),e.state,"status")},getAllTasks:function(){var t=JSON.parse(sessionStorage.getItem("User"));if(t){var e={assignRef:t.path||"",role:"main"},n=i.db.collectionGroup("tasks");n.where("assigns","array-contains",e),n.onSnapshot(function(t){var e=[];t.forEach(function(t){e.push(Object.assign(t.data(),{id:t.id,ref:t.ref.path}))}),r.default.storeTasks=e,console.log(" listen on collectionGroup tasks.   snap size = ",t.size,"result data is: ",e),a.default.redraw()})}},getAllTypeList:function(){i.db.collectionGroup("types").onSnapshot(function(t){var e=[];t.forEach(function(t){e.push(Object.assign(t.data(),{id:t.id,ref:t.ref.path,col:t.ref.parent.path}))}),o.default.allLeadTypes=e,console.log(" listen on collectionGroup lead types.   snap size = ",t.size,"result data is: ",e),a.default.redraw()})}}},function(t,e,n){"use strict";t.exports={storeLeads:[],storeContacts:[],storeTasks:[]}},function(t,e,n){"use strict";var r={filtersAddContact:[{title:"איש קשר חדש",type:"add",active:!0},{title:"איש קשר קיים",type:"search"}],groupTypeFilter:[{title:"קבוצות",count:0,active:!0},{title:"אירועים",count:0},{title:"חוגים",count:0},{title:"כלבייה",count:0},{title:"כללי",count:0}],formDataContact:{meta:{heading:"הוסף איש קשר",class:"Contact"},data:{name:{input:{type:"text",name:"name",placeholder:"שם",required:!0},label:{text:"שם איש קשר"}},phone:{input:{type:"tel",name:"phone",placeholder:"טלפון",pattern:"[0-9]{3}-[0-9]{7}"},label:{text:"טלפון איש קשר (xxx-xxxxxxx)"}},email:{input:{type:"email",name:"email",placeholder:"אימייל"},label:{text:"אימייל איש קשר"}}}},formDataLead:{meta:{heading:"פרטי פנייה",class:"Lead"},data:{type:{input:{type:"text",name:"type",placeholder:"סוג פנייה",required:!0,list:"typeList",autocomplete:"off"},label:{text:"סוג פנייה"}},source:{input:{type:"text",name:"source",placeholder:"מקור הגעה",list:"sourceList",autocomplete:"off"},label:{text:"בחר מקור הגעה של הליד מתוך רשימה"}},duedate:{input:{type:"date",name:"duedate",placeholder:"תאריך יעד"},label:{text:"תאריך יעד"}},description:{textarea:{name:"description",placeholder:"תיאור והערות",required:!0}}}},formDataLeadArr:[{meta:{inputID:"type",inputType:"select",list:"allLeadTypes"},options:{name:"type",required:!0,autocomplete:"off"},label:{text:"סוג ליד"}},{meta:{inputID:"source",inputType:"select",list:"leadSourceList"},options:{name:"source",required:!0,autocomplete:"off"},label:{text:"מקור הגעה של הליד"}},{meta:{inputID:"duedate",inputType:"input"},options:{type:"date",name:"duedate",placeholder:"תאריך יעד"},label:{text:"תאריך יעד"}},{meta:{inputID:"description",inputType:"textarea"},options:{name:"description",placeholder:"תיאור והערות",required:!0}}],setGroup:[{label:"לידים",count:0,groups:[{title:"מקורות לידים",collection:"setLeadSource",data:[]},{title:"סטטוסים",collection:"setLeadStatus",data:[]},{title:"סוגי לידים",collection:"setLeadType",data:[]}],active:!0},{label:"אנשי קשר",count:0,groups:[{title:"סוגי אנשי קשר",collection:"setContactType",data:[]}]},{label:"משתמשים",count:0,groups:[{title:"הגדרות תפקיד משתמשים",collection:"setUserRoles",data:[]}]},{label:"כללי",count:0},{label:"פילוח לידים",count:0}],allLeadTypes:[],leadSourceList:[],leadGroupsList:[],setLeadStatus:[{status:"ליד חדש",id:"newLead",done:!0},{status:"פגישה",id:"meeting"},{status:"הצעת מחיר",id:"priceQuote"},{status:"סגור",id:"invitation"},{status:"הזמנה חתומה",id:"invitationSigned"},{status:"שולמה מקדמה",id:"downPayment"}]};t.exports=r},function(t,e,n){"use strict";t.exports={getFormValues:function(t){var e={},n=t.elements;for(var r in n){var o=n[r];o.name&&o.value&&(e[o.name]=o.value||"")}return e=={}?null:e},closestByClass:function(t,e){for(;!t.classList.contains(e);)if(!(t=t.parentNode))return null;return t},toggleGroup:function(t,e){e.state.shrink?e.state.shrink=!1:e.state.shrink=!0},mapToObj:function(t){var e={};return t.forEach(function(t){return e[t.id]=t}),e},dateDiffDays:function(t,e){e||(e=new Date);var n=parseInt((e-t)/864e5);return 0===n?"היום":n>0?"עברו "+n+" ימים":"נותר עוד "+n+" ימים"},formatTime:function(t){var e=t.getHours();e<10&&(e="0"+e);var n=t.getMinutes();return n<10&&(n="0"+n),e+":"+n}}},function(t,e,n){"use strict";var r=a(n(0)),o=a(n(28));a(n(7));function a(t){return t&&t.__esModule?t:{default:t}}t.exports={oninit:function(t){},view:function(t){return(0,r.default)("div",{class:"header"},(0,r.default)(o.default,null),(0,r.default)("div",{class:"header__title"},t.attrs.title),(0,r.default)("div",{class:"header__logo-box"},(0,r.default)("img",{src:"img/logo.png",alt:"logo image",class:"header__logo"})))}}},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};var i=[{title:"חדש",iconPath:"/img/sprite.svg#icon-plus",ref:"/add"},{title:"לטיפול",iconPath:"/img/sprite.svg#icon-flow-tree",ref:"/myTasks"},{title:"חיפוש",iconPath:"/img/sprite.svg#icon-magnifying-glass",ref:"/search"},{title:"לידים",iconPath:"/img/sprite.svg#icon-layers",ref:"/myLeads"}];t.exports=function(t){return{oninit:function(t){t.state.commands=i},oncreate:function(t){var e=a.default.route.get();t.state.commands.map(function(t){e===t.ref?t.active=!0:t.active=!1}),a.default.redraw()},view:function(t){return(0,a.default)(".bottomMenu",[t.state.commands.map(function(e){return(0,a.default)(".bottomMenu__btn",{class:e.active?"bottomMenu__btn--active":"",onclick:function(n){return function(t,e){a.default.route.set(e.ref),t.state.commands.map(function(t){t.active&&(t.active=!1)})}(t,e)}},[(0,a.default)("svg.bottomMenu__icon",[(0,a.default)("use",{href:e.iconPath})]),e.title])})])}}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=s(n(0)),a=n(30),i=n(1),l=(s(n(2)),s(n(10)));function s(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l.default),r(e,null,[{key:"loginUser",value:function(t,n,r){(0,a.signIn)(t,n).then(function(t){console.log("step 1- login success!"),(0,i.getDoc)("users",t.user.uid).then(function(n){console.log("step 2- search doc!"),n.exists?(console.log("step 3- doc found so get token!"),t.user.getIdToken().then(function(r){console.log("step 4- token is here - put it on local storage!");var a=new e(t.user.uid,n.data(),{token:r,path:"users/"+n.id});sessionStorage.setItem("User",JSON.stringify(a)),sessionStorage.setItem("token",r),(0,i.getLeads)(),o.default.route.set("/add")},function(t){console.error(t)})):(console.log("not find such user so logout!!"),logOut(),o.default.route.set("/login"))},function(t){console.error(t)})},function(t){console.error("error on login",t),r.state.valid=!1,o.default.redraw()})}},{key:"logOut",value:function(){(0,a.logout)(),o.default.route.set("/login")}},{key:"isLoggedIn",value:function(){return(0,a.isUserLoggedIn)()}},{key:"getUser",value:function(t,e){console.log("start User.getUser");var n=JSON.parse(sessionStorage.getItem("User"));return arguments&&1==arguments.length?n[t]:arguments&&2==arguments.length?n.data[e]:n}}]),e}();t.exports=c},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{oninit:function(t){window.addEventListener("scroll",function(e){window.scrollY>=100?t.dom.style.display="block":0==window.scrollY&&(t.dom.style.display="none")})},view:function(t){return(0,a.default)(".scrollTop",{onclick:function(t){window.scrollTo(0,0)}},(0,a.default)("svg.scrollTop__icon",(0,a.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-up"})))}}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(1);var a=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e;var o={};for(var a in n)""!==n[a].trim()&&(o[a]=n[a]);for(var i in this._data=o,r)this[i]=r[i];console.log("new "+this.constructor.name+" Model is created: ",this)}return r(t,[{key:"save",value:function(t){console.log("TODO! save on SessionStorage")}},{key:"delete",value:function(){console.log("TODO! delete doc by id from database and from storage/stoer etc")}},{key:"getData",value:function(){return this._data}},{key:"getID",value:function(){return this.id}},{key:"setData",value:function(t,e){this._data[t]=e}},{key:"add",value:function(t){var e=this;return console.log("add data to database=>",this._data),(0,o.insertDoc)(t,this._data).then(function(t){console.log(t),e.id=t.path},function(t){consoles.log(t)})}}]),t}();t.exports=a},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{oncreate:function(t){var e=t.dom.querySelector("#list"),n=t.dom.querySelector("#toggle");window.onclick=function(t){e.classList.contains("commandList__list--visible")&&t.target!==e&&t.target!==n&&e.classList.remove("commandList__list--visible")}},view:function(t){return(0,a.default)(".commandList",{style:"position:relative"},[(0,a.default)("svg#toggle.row__icon.commandList__icon",{onclick:function(e){return function(t,e){var n=e.dom.querySelector("#list");if(n.classList.toggle("commandList__list--visible"),n.classList.contains("commandList__list--visible")){var r=n.getBoundingClientRect();r.left<0&&(n.style.transform="translateX(0px)")}}(0,t)}},(0,a.default)("use",{href:"/img/sprite.svg#icon-dots-three-vertical"})),(0,a.default)(".commandList__list#list",[t.attrs.list.map(function(t,e){if(t)return(0,a.default)(".commandList__row",{key:e,onclick:function(e){console.log("TODO! add function for each command"),t.func(e)}},[(0,a.default)(".commandList__item",t.label)])})])])}}}},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{view:function(t){return(0,a.default)("form.form-list",{onsubmit:function(e){return t.attrs.submitFunc(e)}},[(0,a.default)("input.form-list__input",{autofocus:!0,type:"text",placeholder:"הוסף ...",required:!0,minlength:3}),(0,a.default)('button[type="submit"].form-list__btn',[(0,a.default)("svg.form-list__icon",{onclick:function(){return t.dom.submit()}},(0,a.default)("use",{href:"/img/sprite.svg#icon-triangle-left"}))])])}}}},function(t,e,n){"use strict";var r=firebase.initializeApp({apiKey:"AIzaSyCFAQbuy-jB3z3nr0TlKjk5NWndrPoYBak",authDomain:"lead-up-ad9c4.firebaseapp.com",databaseURL:"https://lead-up-ad9c4.firebaseio.com",projectId:"lead-up-ad9c4",storageBucket:"lead-up-ad9c4.appspot.com",messagingSenderId:"620824153004",appId:"1:620824153004:web:9764cb899bf456ab"}),o=firebase.auth(r),a=firebase.firestore();t.exports={auth:o,db:a}},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{oninit:function(t){t.attrs.parent.state.list=!1},onbeforeupdate:function(t){t.state.list=t.attrs.list},onupdate:function(t){0==t.dom.querySelectorAll(".searchList__row").length?t.dom.style.display="none":t.dom.style.display="block"},view:function(t){return(0,a.default)(".searchList",{style:"display:none"},[t.state.list?t.state.list.map(function(e){return(0,a.default)(".searchList__row",{id:e.id,onclick:function(e){return t.attrs.func(e)}},[Object.keys(e).map(function(t,n){if("id"!=t)return(0,a.default)(".searchList__item",e[t])}),(0,a.default)("svg.searchList__select",[(0,a.default)("use",{href:"/img/sprite.svg#icon-add-to-list"})])])}):[]])}}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(0)),a=l(n(10)),i=n(1);function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a.default),r(e,[{key:"addNewSubContact",value:function(t,e){t.add("contacts").then(function(n){var r=e,a={role:"any",contactRef:t.getID()};(0,i.addToMapInDoc)("leads",r,"contacts",a),o.default.redraw()})}}]),e}();t.exports=s},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{view:function(t){return(0,a.default)(".filterBar",[t.attrs.filters.map(function(e){return(0,a.default)(".filterBar__card",{onclick:function(n){return function(t,e){t.attrs.filters.forEach(function(n,r){switch(!0){case n.id==e.id:return t.attrs.filters[r].active=!0;default:t.attrs.filters[r].active=!1}})}(t,e)},class:e.active?"filterBar__card--active":""},[e.label,(0,a.default)("span.filterBar__card-counter",{class:e.done||0==e.count?"filterBar__card-counter--done":""},e.done||0==e.count?String.fromCharCode(10003):[e.count])])})])}}}},function(t,e,n){"use strict";var r=i(n(0)),o=n(1),a=i(n(12));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){t.state.shrink=t.attrs.shrink},view:function(t){return(0,r.default)(".setGroup",[(0,r.default)(".setGroup__title",{onclick:function(e){return function(t,e){e.state.shrink?e.state.shrink=!1:e.state.shrink=!0}(0,t)}},[(0,r.default)("span",t.attrs.title),(0,r.default)("svg#arrow.setGroup__toggle-arrow",(0,r.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-down"}))]),t.attrs.rows&&!t.state.shrink?t.attrs.rows.map(function(e,n){return(0,r.default)(".setGroup__row",{key:n,id:e.id||""},[(0,r.default)("span.setGroup__label",e.label),(0,r.default)("span.setGroup__delete",{onclick:function(e){return(0,o.deleteDoc)(t.attrs.collection,e.target.parentNode.id)}},"X")])}):[],t.state.shrink?[]:(0,r.default)(a.default,{submitFunc:function(e){return function(t,e){t.preventDefault();var n=t.target,a=n.elements[0].value,i=e.attrs.collection,l={label:a};(0,o.insertDoc)(i,l).then(function(t){console.log("new doc added",t.path),r.default.redraw()}),n.reset()}(e,t)}})])}}}},function(t,e,n){"use strict";var r=p(n(0));n(22);var o=p(n(27)),a=p(n(31)),i=p(n(37)),l=p(n(41)),s=p(n(44)),c=p(n(51)),u=p(n(52)),d=p(n(7)),f=n(1);function p(t){return t&&t.__esModule?t:{default:t}}var m=document.body;(0,f.getLeads)(),(0,f.getContacts)(),(0,f.getAllTasks)(),(0,f.getSettingGroups)(),(0,f.getSourceList)(),(0,f.getGroupLeadsList)(),(0,f.getAllTypeList)(),r.default.route(m,"/login",{"/login":o.default,"/add":{onmatch:function(){if(d.default.isLoggedIn())return a.default;r.default.route.set("/login")}},"/myTasks":{onmatch:function(){if(d.default.isLoggedIn())return i.default;r.default.route.set("/login")}},"/myLeads":{onmatch:function(){if(d.default.isLoggedIn())return l.default;r.default.route.set("/login")}},"/myLeads/:id":{onmatch:function(){if(d.default.isLoggedIn())return s.default;r.default.route.set("/login")}},"/search":{onmatch:function(){if(d.default.isLoggedIn())return c.default;r.default.route.set("/login")}},"/settings":{onmatch:function(){if(d.default.isLoggedIn())return u.default;r.default.route.set("/login")}}})},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new a(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(20),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(9))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,a,i,l,s=1,c={},u=!1,d=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick(function(){m(t)})}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){m(t.data)},r=function(t){a.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(t){var e=d.createElement("script");e.onreadystatechange=function(){m(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(m,0,t)}:(i="setImmediate$"+Math.random()+"$",l=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(i)&&m(+e.data.slice(i.length))},t.addEventListener?t.addEventListener("message",l,!1):t.attachEvent("onmessage",l),r=function(e){t.postMessage(i+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[s]=o,r(s),s++},f.clearImmediate=p}function p(t){delete c[t]}function m(t){if(u)setTimeout(m,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}(e)}finally{p(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(9),n(21))},function(t,e){var n,r,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function l(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(t){r=i}}();var s,c=[],u=!1,d=-1;function f(){u&&s&&(u=!1,s.length?c=s.concat(c):d=-1,c.length&&p())}function p(){if(!u){var t=l(f);u=!0;for(var e=c.length;e;){for(s=c,c=[];++d<e;)s&&s[d].run();d=-1,e=c.length}s=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function m(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new m(t,e)),1!==c.length||u||l(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){var r=n(23);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(25)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(24)(!1)).push([t.i,':root {\n  --color-primary: #38508B;\n  --color-primary-dark: #2c406f;\n  --color-primary-light: #7384ad;\n  --color-secondary:#E05F3C;\n  --color-tartiary:#3CBDE0;\n  --color-red:#eb2f64;\n  --color-red-trs:#ea2e6399;\n  --color-grey-light-1: #faf9f9;\n  --color-grey-light-2: #f4f2f2;\n  --color-grey-light-3: #f0eeee;\n  --color-grey-light-4: #ccc;\n  --color-grey-dark-1: #333;\n  --color-grey-dark-2: #777;\n  --color-grey-dark-3: #999;\n  --color-grey-bg: #d3d3d380;\n  --color-grey-trs:rgba(51, 51, 51, .1);\n  --color-white: #fff;\n  --color-black: #000;\n  --def-font-size: 1.6rem;\n  --def-font-family: \'Tahoma\';\n  --box-shadow-light: 0 1rem 2rem rgba(0,0,0,0.2);\n  --box-shadow-1: 0 .5rem 1rem rgba(0,0,0,0.4);\n  --box-shadow-2: .1rem .9rem 2rem rgba(0,0,0,0.4); }\n\n/* GLOBAL RESET */\n* {\n  padding: 0;\n  margin: 0; }\n\n*, *::before, *::after {\n  font-size: 62.5%;\n  box-sizing: border-box; }\n\nbody {\n  font-family: var(--def-font-family), sans-serif;\n  font-weight: 300;\n  font-size: 2rem;\n  line-height: 1.2;\n  user-select: none; }\n\n.row {\n  direction: rtl;\n  display: flex;\n  position: relative;\n  font-size: inherit;\n  font-family: inherit;\n  flex-direction: row;\n  flex-wrap: wrap;\n  width: 100%;\n  transition: all .2s; }\n\n.row__span {\n  flex: 1; }\n\n.row__icon {\n  position: relative;\n  width: 2rem;\n  height: 2rem;\n  fill: currentColor;\n  border-radius: 50%; }\n\n.row__icon:hover {\n  cursor: pointer; }\n\n.loader {\n  position: relative;\n  font-size: 3rem;\n  margin: 0 auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  text-align: center;\n  direction: rtl;\n  animation: shake 1s infinite; }\n\n.btn, .btn:link, .btn:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  display: inline-block;\n  position: relative;\n  font-family: \'Tahoma\' , sans-serif;\n  font-size: var(--def-font-size);\n  font-weight: 500;\n  border-radius: 10rem;\n  transition: all .2s;\n  border: none;\n  cursor: pointer; }\n\n.btn:hover {\n  transform: translateY(-1.5px);\n  box-shadow: var(--box-shadow-1); }\n\n.btn:active {\n  transform: translateY(-0.5px);\n  box-shadow: var(--box-shadow-2); }\n\n.btn:focus {\n  outline: none; }\n\n.btn--round {\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0 auto !important; }\n\n.btn--def {\n  padding: 1.5rem 4rem;\n  background-color: var(--color-primary);\n  color: var(--color-white); }\n\n.btn--white {\n  background-color: var(--color-white);\n  color: var(--color-grey-dark-1); }\n\n.btn--red {\n  background-color: var(--color-red);\n  color: var(--color-white); }\n\n.btn--green {\n  background-color: green;\n  color: var(--color-white); }\n\n.btn--grey {\n  background-color: var(--color-grey-dark-2);\n  color: var(--color-white); }\n\n.btn__icon {\n  width: 1.5rem;\n  height: 1.5rem;\n  fill: currentColor; }\n\n.btn--fab {\n  background-color: var(--color-primary-dark);\n  color: var(--color-white);\n  position: absolute;\n  top: 2px;\n  right: 2px; }\n\n.btn--fab:hover {\n  opacity: .8; }\n\n.btn--fab > .btn__icon {\n  width: 3rem;\n  height: 3rem; }\n\n.heading {\n  display: flex;\n  align-items: center;\n  height: 5rem;\n  border-radius: 1rem;\n  padding: 1rem;\n  margin-bottom: 1rem;\n  color: var(--color-primary); }\n\n.heading__secondary {\n  flex: 1;\n  font-size: 2.5rem;\n  font-family: Tahoma;\n  margin-bottom: 1rem; }\n\n.heading__icon {\n  width: 3rem;\n  height: 3rem;\n  fill: currentColor;\n  opacity: .6;\n  transition: all .2s; }\n\n.heading__icon:hover {\n  cursor: pointer;\n  opacity: 1;\n  transform: scale(1.1); }\n\n@keyframes highlight {\n  0% {\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n@keyframes shake {\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0); }\n  20%, 80% {\n    transform: translate3d(2px, 0, 0); }\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0); }\n  40%, 60% {\n    transform: translate3d(4px, 0, 0); } }\n\n.fade-in {\n  animation: fade-in .5s ease-in; }\n\n@keyframes fade-in {\n  0% {\n    transform: translateX(-60%);\n    opacity: 0; }\n  100% {\n    opacity: 1; } }\n\n.fade-out {\n  animation: fade-out .4s ease-out; }\n\n@keyframes fade-out {\n  0% {\n    transform: translateX(0%);\n    opacity: 1; }\n  100% {\n    transform: translateX(100%);\n    opacity: 0; } }\n\n@keyframes moveInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(-10rem); }\n  80% {\n    transform: translateX(1rem); }\n  100% {\n    opacity: 1;\n    transform: translate(0); } }\n\n@keyframes moveInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(10rem); }\n  80% {\n    transform: translateX(-1rem); }\n  100% {\n    opacity: 1;\n    transform: translate(0); } }\n\n@keyframes moveInBottom {\n  0% {\n    opacity: 0;\n    transform: translateY(3rem); }\n  100% {\n    opacity: 1;\n    transform: translate(0); } }\n\n.bottomMenu {\n  direction: rtl;\n  opacity: .85;\n  position: fixed;\n  right: 0;\n  bottom: 0;\n  width: 100vw;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-content: space-between;\n  background-color: var(--color-grey-light-1);\n  box-shadow: var(--box-shadow-1); }\n\n.bottomMenu:hover {\n  cursor: pointer; }\n\n.bottomMenu__btn {\n  color: var(--color-primary);\n  flex: 1;\n  font-size: 2rem;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  transition: all .2s ease-in;\n  position: relative; }\n\n.bottomMenu__btn::after {\n  content: "";\n  position: absolute;\n  padding: 1px;\n  top: -1px;\n  width: 10%;\n  height: 2px;\n  opacity: 0;\n  visibility: hidden; }\n\n.bottomMenu__btn--active {\n  background-color: var(--color-grey-light-3); }\n\n.bottomMenu__btn--active::after {\n  background-color: var(--color-primary);\n  opacity: 1;\n  width: 90%;\n  right: 5%;\n  visibility: visible; }\n\n.bottomMenu__icon {\n  padding-top: 1rem;\n  width: 5rem;\n  height: 5rem;\n  fill: currentColor; }\n\n.menu {\n  position: relative; }\n\n.menu__check {\n  display: none; }\n\n.menu__button {\n  background-color: var(--color-grey-light-1);\n  height: 6rem;\n  width: 6rem;\n  border-radius: 50%;\n  z-index: 2000;\n  box-shadow: var(--box-shadow-1);\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\n.menu__icon {\n  position: relative;\n  display: flex; }\n\n.menu__icon, .menu__icon::after, .menu__icon::before {\n  height: 2px;\n  width: 3rem;\n  background-color: var(--color-grey-dark-2); }\n\n.menu__icon::before, .menu__icon::after {\n  content: "";\n  position: absolute;\n  left: 0;\n  transition: all .2s; }\n\n.menu__icon::before {\n  top: -.8rem; }\n\n.menu__icon::after {\n  top: .8rem; }\n\n.menu__button:hover .menu__icon::before {\n  top: -1rem; }\n\n.menu__button:hover .menu__icon::after {\n  top: 1rem; }\n\n.menu__button:hover {\n  box-shadow: var(--box-shadow-2);\n  transform: translateY(-0.1rem);\n  cursor: pointer; }\n\n.menu__check:checked + .menu__button .menu__icon {\n  background-color: transparent; }\n\n.menu__check:checked + .menu__button .menu__icon::before {\n  top: 0;\n  transform: rotate(135deg); }\n\n.menu__check:checked + .menu__button .menu__icon::after {\n  top: 0;\n  transform: rotate(-135deg); }\n\n.sidebar {\n  position: absolute;\n  right: 0;\n  top: 2.5rem;\n  width: 20rem;\n  border-radius: 5px;\n  box-shadow: var(--box-shadow-1);\n  font-size: 1.4rem;\n  list-style: none;\n  margin-top: 3.5rem;\n  opacity: 0;\n  visibility: hidden;\n  background: var(--color-grey-light-1);\n  transition: all .2s ease-in;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between; }\n\n.sidebar--show {\n  opacity: .82;\n  visibility: visible; }\n\n.sidebar__row {\n  padding: 1rem;\n  width: 100%;\n  display: flex;\n  flex-direction: row-reverse;\n  align-items: center;\n  justify-content: space-between;\n  line-height: 4rem;\n  transition: all .1s; }\n\n.sidebar__row:hover {\n  cursor: pointer;\n  background-color: var(--color-grey-light-3);\n  transform: scale(1.01); }\n\n.sidebar__row:not(:last-child) {\n  margin-bottom: .5rem; }\n\n.sidebar__label {\n  text-align: center;\n  flex: 1;\n  color: var(--color-primary);\n  font-size: 2rem; }\n\n.sidebar__link {\n  color: var(--color-primary);\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\n.sidebar__icon {\n  fill: currentColor;\n  width: 1.8rem;\n  height: 1.8rem; }\n\n.commandList__icon {\n  position: relative;\n  width: 3rem;\n  height: 3rem;\n  fill: currentColor;\n  border-radius: 50%;\n  transition: all .2s; }\n\n.commandList__icon:hover {\n  background-color: var(--color-grey-light-3);\n  cursor: pointer; }\n\n.commandList__list {\n  visibility: hidden;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: max-content;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  transform: translateX(-95%);\n  padding-top: .5rem;\n  border-radius: 5px;\n  background-color: #ffffffce;\n  color: var(--color-grey-dark);\n  box-shadow: var(--box-shadow-2);\n  opacity: 0;\n  z-index: 100;\n  transition: all .2s ease-in; }\n\n.commandList__list--visible {\n  visibility: visible;\n  opacity: .85;\n  backface-visibility: hidden; }\n\n.commandList__row {\n  padding: 1rem 1rem;\n  height: 3rem;\n  width: 100%;\n  text-align: center; }\n\n.commandList__row:hover {\n  cursor: pointer;\n  opacity: 1;\n  background-color: var(--color-grey-light-3); }\n\n.commandList__row:not(:last-child) {\n  margin-bottom: .5rem; }\n\n.commandList__item {\n  font-size: 1.5rem;\n  flex: 0 0 100%; }\n\n.header {\n  padding: 2rem;\n  background-color: var(--color-primary-dark);\n  height: 8rem;\n  opacity: .9;\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  display: flex;\n  flex-direction: row-reverse;\n  justify-content: space-between;\n  justify-items: center;\n  align-items: center;\n  margin-bottom: 8rem;\n  z-index: 1000; }\n\n.header__title {\n  color: white;\n  font-size: 3rem;\n  font-weight: 700;\n  text-align: center;\n  text-transform: uppercase; }\n\n.header__logo {\n  height: 8rem; }\n\n.header-full-page {\n  direction: rtl;\n  padding: 2rem;\n  background-color: var(--color-primary-dark);\n  height: 8rem;\n  opacity: .9;\n  width: 100vw;\n  position: fixed;\n  top: 0;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  z-index: 1000; }\n\n.header-full-page__title {\n  color: var(--color-grey-light-1);\n  flex: 1;\n  font-size: 3rem;\n  font-weight: 400;\n  text-align: center;\n  text-transform: uppercase;\n  text-transform: uppercase; }\n\n.header-full-page__arrow {\n  font-size: 3rem;\n  color: var(--color-grey-light-1);\n  font-weight: 700;\n  text-align: center;\n  border-radius: 50%;\n  transition: all .1s; }\n\n.header-full-page__arrow:hover {\n  cursor: pointer;\n  background-color: var(--color-grey-bg);\n  transform: scale(1.1); }\n\n.header-full-page__arrow:active {\n  transform: scale(1); }\n\n.filterBar {\n  position: fixed;\n  z-index: 100;\n  top: 8rem;\n  width: 100vw;\n  right: 0;\n  display: flex;\n  align-items: center;\n  align-content: center;\n  justify-content: space-between;\n  padding: 1rem 1rem .5rem 1rem;\n  text-align: center;\n  opacity: .9;\n  background-color: var(--color-primary-dark); }\n\n.filterBar__card {\n  border-top: 1.5px solid var(--color-primary);\n  border-radius: 10px 15px 0 0;\n  line-height: 3rem;\n  align-self: center;\n  position: relative;\n  flex: 1;\n  font-size: var(--def-font-size);\n  color: var(--color-grey-dark-3); }\n\n.filterBar__card::after {\n  content: "";\n  position: absolute;\n  padding: 1px;\n  text-align: center;\n  bottom: -1px;\n  background-color: var(--color-primary-light);\n  width: 90%;\n  right: 5%;\n  height: 2px;\n  opacity: 0;\n  transition: all .2s ease-in; }\n\n.filterBar__card:hover {\n  transform: translateY(-0.1rem);\n  cursor: pointer; }\n\n.filterBar__card:hover::after {\n  opacity: 1;\n  width: 60%;\n  right: 20%; }\n\n.filterBar__card--active {\n  color: var(--color-grey-light-1);\n  font-weight: 500; }\n\n.filterBar__card--active::after {\n  background-color: var(--color-grey-light-1) !important;\n  opacity: 1 !important; }\n\n.filterBar__card--active:hover {\n  transform: none !important;\n  cursor: context-menu !important; }\n\n.filterBar__card--active:hover::after {\n  width: 90% !important;\n  right: 5% !important; }\n\n.filterBar__card-counter {\n  font-size: 1.8rem;\n  height: 1.75rem;\n  width: 1.75rem;\n  border-radius: 50%;\n  background-color: var(--color-red);\n  color: #fff;\n  position: absolute;\n  top: -.9rem;\n  left: 1.1rem;\n  display: flex;\n  justify-content: center;\n  align-items: center; }\n\n.filterBar__card-counter--done {\n  font-weight: 600;\n  background-color: white;\n  color: green; }\n\n.filterGroup {\n  display: flex;\n  justify-content: center;\n  font-size: 2rem;\n  margin-bottom: 2rem; }\n\n.filterGroup__item {\n  position: relative;\n  outline: none;\n  border: none;\n  line-height: 3rem;\n  border-radius: 5px;\n  color: var(--color-grey-dark-3);\n  background: none;\n  flex: 1;\n  border-radius: 10px 15px 0 0;\n  transition: all .2s ease-in; }\n\n.filterGroup__item::after {\n  content: "";\n  position: absolute;\n  padding: 1px;\n  text-align: center;\n  bottom: -1px;\n  background-color: var(--color-primary-light);\n  width: 90%;\n  right: 5%;\n  height: 1.5px;\n  opacity: 0;\n  transition: all .2s ease-in; }\n\n.filterGroup__item:hover {\n  cursor: pointer;\n  transform: translateY(-0.1rem); }\n\n.filterGroup__item:hover::after {\n  opacity: 1;\n  width: 60%;\n  right: 20%; }\n\n.filterGroup__item--active {\n  background-color: var(--color-grey-light-3) !important;\n  color: var(--color-primary-light) !important;\n  font-weight: 600; }\n\n.filterGroup__item--active::after {\n  background-color: var(--color-primary) !important;\n  opacity: 1 !important; }\n\n.filterGroup__item--active:hover {\n  transform: none !important;\n  cursor: context-menu !important; }\n\n.filterGroup__item--active:hover::after {\n  width: 90% !important;\n  right: 5% !important; }\n\n.form-list {\n  display: flex;\n  align-items: center;\n  justify-content: space-between; }\n\n.form-list__input {\n  height: 5rem;\n  text-align: center;\n  font-size: 2.2rem;\n  font-family: inherit;\n  color: var(--color-grey-dark-1);\n  outline: none;\n  border: none;\n  border-bottom: 3px solid var(--color-grey-light-3);\n  border-bottom-width: 90%;\n  flex: 1; }\n\n.form-list__input:focus {\n  border-bottom-width: 100%;\n  border-bottom: 3px solid var(--color-primary); }\n\n.form-list__input:focus:invalid {\n  border-bottom: 3px solid var(--color-secondary); }\n\n.form-list__input::placeholder {\n  color: var(--color-grey-dark-3) !important;\n  font-size: 2rem;\n  font-family: inherit; }\n\n.form-list__input:focus::placeholder {\n  opacity: .6; }\n\n.form-list__btn {\n  outline: none;\n  border: none;\n  border-radius: 50%;\n  transition: all .2s;\n  background-color: none;\n  color: var(--color-primary);\n  opacity: .7; }\n\n.form-list__btn:hover {\n  cursor: pointer;\n  opacity: 1;\n  background-color: var(--color-grey-bg);\n  transform: translateY(-0.2rem); }\n\n.form-list__btn:active {\n  transform: translateY(0); }\n\n.form-list__icon {\n  width: 4rem;\n  height: 4rem;\n  fill: currentColor; }\n\n.searchBox {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  color: var(--color-grey-dark-3); }\n\n.searchBox__input {\n  text-align: center;\n  font-size: 3rem;\n  font-family: inherit;\n  border: none;\n  outline: none;\n  width: 100%;\n  line-height: 4rem;\n  transition: all .2s ease-in;\n  border-bottom: 3px solid var(--color-grey-light-3);\n  border-bottom-width: 90%; }\n\n.searchBox__input::placeholder {\n  color: var(--color-grey-dark-3) !important;\n  font-size: 2rem;\n  font-family: inherit; }\n\n.searchBox__input:focus::placeholder {\n  opacity: .6; }\n\n.searchBox__input:focus {\n  border-bottom-width: 100%;\n  border-bottom: 3px solid var(--color-primary); }\n\n.searchBox__input:focus:invalid {\n  border-bottom: 3px solid var(--color-secondary); }\n\n.searchBox__icon {\n  fill: currentColor;\n  position: absolute;\n  left: 2%;\n  top: 20%;\n  width: 3rem;\n  height: 3rem; }\n\n.searchBox__input:focus + .searchBox__icon {\n  opacity: .3; }\n\n.searchList {\n  position: absolute;\n  top: 100%;\n  min-width: 100%;\n  left: 0;\n  padding-top: .5rem;\n  border-radius: 5px;\n  background-color: #ffffffce;\n  color: var(--color-grey-dark);\n  box-shadow: var(--box-shadow-2);\n  opacity: .85;\n  z-index: 100; }\n\n.searchList__row {\n  width: 100%;\n  padding: 0 1rem;\n  height: 2.2rem;\n  text-align: center;\n  display: flex;\n  justify-content: space-between;\n  align-items: center; }\n\n.searchList__row--active {\n  background-color: var(--color-grey-light-3); }\n\n.searchList__row--active > .searchList__row--active__select {\n  transform: scale(1.1);\n  fill: var(--color-primary); }\n\n.searchList__row:hover, .searchList__row:focus {\n  cursor: pointer;\n  background-color: var(--color-grey-light-3); }\n\n.searchList__row:not(:last-child) {\n  margin-bottom: .5rem; }\n\n.searchList__item {\n  padding: 1rem auto;\n  font-size: 1.5rem;\n  flex: 1; }\n\n.searchList__select {\n  border-radius: 50%;\n  height: 2rem;\n  width: 2rem;\n  fill: var(--color-grey-dark-3);\n  transition: all .2s; }\n\n.searchList__row:hover > .searchList__select,\n.searchList__row:focus > .searchList__select {\n  fill: var(--color-primary);\n  transform: scale(1.1); }\n\n.scrollTop {\n  display: none;\n  position: fixed;\n  top: 13rem;\n  right: 0;\n  color: transparent;\n  width: 4rem;\n  height: 4rem;\n  border-radius: 50%;\n  transition: all .2s;\n  box-shadow: var(--box-shadow-light);\n  text-align: center;\n  animation: 1s shake; }\n\n.scrollTop:hover {\n  cursor: pointer;\n  transform: translateY(-0.3rem); }\n\n.scrollTop:active {\n  transform: translateY(0); }\n\n.scrollTop__icon {\n  width: 3.5rem;\n  height: 3.5rem;\n  fill: var(--color-grey-dark-3); }\n\n.snackbar {\n  visibility: hidden;\n  font-size: 3rem;\n  font-family: inherit;\n  min-width: 250px;\n  margin-left: -125px;\n  background-color: var(--color-primary-light);\n  color: var(--color-white);\n  text-align: center;\n  border-radius: 15px;\n  padding: 16px;\n  position: fixed;\n  z-index: 1000;\n  left: 50%;\n  bottom: 3rem; }\n\n.snackbar__show {\n  visibility: visible;\n  animation: fadein .5s, fadeout .5s 2.5s; }\n\n@keyframes fadein {\n  from {\n    bottom: 0;\n    opacity: 0; }\n  to {\n    bottom: 30px;\n    opacity: 1; } }\n\n@keyframes fadeout {\n  from {\n    bottom: 30px;\n    opacity: 1; }\n  to {\n    bottom: 0;\n    opacity: 0; } }\n\n.form {\n  direction: rtl;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  min-width: 32rem;\n  width: 90%;\n  max-width: 42rem;\n  padding: 1rem 1rem;\n  background-color: var(--color-grey-light-1);\n  box-shadow: var(--box-shadow-1);\n  border-radius: 3px;\n  background-color: var(--color-grey-light-1);\n  margin-bottom: 1rem;\n  margin-top: 1rem;\n  margin-left: 5rem;\n  margin-right: 5rem;\n  font-size: 2rem; }\n\n.form__row {\n  width: 100%; }\n\n.form__row:not(:last-child) {\n  margin-bottom: 2rem; }\n\n.form__input {\n  width: 90%;\n  color: var(--color-grey-dark-1);\n  height: 5rem;\n  outline: none;\n  border: none;\n  text-align: center;\n  font-size: 2.2rem;\n  font-family: inherit;\n  border-bottom: 3px solid var(--color-grey-light-3);\n  transition: all .2s ease-in; }\n\n.form__input::placeholder {\n  color: var(--color-grey-dark-3) !important;\n  font-size: inherit;\n  font-family: inherit; }\n\n.form__input:focus {\n  outline: none;\n  border-bottom: 3px solid var(--color-primary); }\n\n.form__input:focus::placeholder {\n  opacity: .6; }\n\n.form__input:focus:invalid {\n  border-bottom: 3px solid var(--color-secondary); }\n\n.form__input:placeholder-shown + .form__label {\n  transform: translateY(-4rem);\n  opacity: 0;\n  visibility: hidden; }\n\n.form__select option {\n  color: var(--color-primary);\n  font-size: 2rem; }\n\n.form__label {\n  color: var(--color-grey-dark-1);\n  text-align: center;\n  font-size: 1.1rem;\n  font-weight: 500;\n  display: block;\n  transition: all .3s; }\n\n.form__row input[type="date"] {\n  color: var(--color-grey-dark-3) !important;\n  font-family: inherit !important;\n  font-size: 2rem !important; }\n\n.form__row input[type="date"]::placeholder {\n  color: var(--color-grey-dark-3) !important;\n  font-size: inherit;\n  font-family: inherit; }\n\n.form__select-group {\n  display: flex;\n  justify-content: space-between;\n  font-size: 3rem; }\n\n.form__select-item {\n  outline: none;\n  border: none;\n  border-radius: 5px;\n  color: var(--color-grey-dark-3);\n  background: none;\n  flex: 1; }\n\n.form__select-item--active {\n  background: var(--color-grey-light-3); }\n\n.login {\n  background-image: linear-gradient(to right bottom, var(--color-primary-light) 20%, var(--color-primary-dark));\n  background-repeat: no-repeat;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center; }\n\n.login__form {\n  max-width: 50rem;\n  padding-top: 5rem;\n  margin: 1rem;\n  font-size: 3rem;\n  border-radius: 5px;\n  background-color: #ffffffce;\n  color: var(--color-grey-dark);\n  box-shadow: var(--box-shadow-1); }\n\n.login__row {\n  height: 5rem;\n  width: 100%;\n  text-align: center; }\n\n.login__row:not(:last-child) {\n  margin-bottom: 2rem; }\n\n.login__input {\n  font-size: inherit;\n  font-family: inherit;\n  text-align: center;\n  height: 4rem;\n  outline: none;\n  border: none;\n  width: 90%;\n  border-bottom: 3px solid transparent;\n  transition: all .2s ease-in; }\n\n.login__input::-webkit-input-placeholder {\n  color: var(--color-grey-dark-3);\n  font-size: 2rem; }\n\n.login__input:focus {\n  outline: none;\n  box-shadow: 0 1rem 2rem var(--color-grey-trs);\n  border-bottom: 3px solid var(--color-primary); }\n\n.login__input:focus:invalid {\n  border-bottom: 3px solid var(--color-secondary); }\n\n.login__input:placeholder-shown + .login__label {\n  opacity: 0;\n  visibility: hidden;\n  transform: translateY(-4rem); }\n\n.login__label {\n  color: var(--color-grey-dark-1);\n  text-align: center;\n  font-size: 1.1rem;\n  font-weight: 500;\n  margin-left: 2rem;\n  margin-top: .7rem;\n  display: block;\n  transition: all .3s; }\n\n.login .shake {\n  animation: shake 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n  transform: translate3d(0, 0, 0);\n  backface-visibility: hidden;\n  perspective: 1000px; }\n\n.container--addLead {\n  margin-top: 8rem;\n  margin-bottom: 8rem;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  align-items: center; }\n\n.container--myTasks {\n  margin-top: 8rem;\n  background-color: var(--color-grey-light-3);\n  margin-bottom: 8rem;\n  min-height: 100vh; }\n\n.myTasks {\n  direction: rtl;\n  margin: 0 auto;\n  min-width: 320px; }\n\n.tasks--empty {\n  height: 10rem;\n  padding: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\n.tasks--empty::after {\n  font-size: 1.6rem;\n  content: attr(data-empty);\n  color: var(--color-primary); }\n\n.tasks__heading {\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 2rem;\n  font-weight: 600;\n  align-content: center; }\n\n.tasks__row {\n  border-radius: 5px;\n  box-shadow: var(--box-shadow-1);\n  background-color: var(--color-white);\n  margin-bottom: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 2rem;\n  padding: 0 auto;\n  transition: all .15s ease-in-out; }\n\n.tasks__row:hover {\n  transform: translateY(-0.1rem);\n  background-color: var(--color-grey-light-2);\n  box-shadow: var(--box-shadow-2);\n  cursor: pointer; }\n\n.tasks__row:active {\n  transform: translateY(0);\n  box-shadow: var(--box-shadow-1); }\n\n.tasks__cell {\n  padding: 1rem; }\n\n.tasks__link {\n  color: blue;\n  text-decoration: underline;\n  transition: all .1s; }\n\n.tasks__link:hover {\n  font-weight: 600;\n  background: var(--color-grey-bg); }\n\n.tasks__button {\n  border-radius: 1rem;\n  border: none;\n  outline: none;\n  font-size: 2rem;\n  background: var(--color-primary-light);\n  color: var(--color-white);\n  flex: 0 0 10%;\n  opacity: .6;\n  transition: all .2s; }\n\n.tasks__button--done {\n  background: var(--color-red); }\n\n.tasks__button:hover {\n  background: var(--color-primary);\n  opacity: 1;\n  cursor: pointer; }\n\n.container--myLeads {\n  margin-top: 13rem;\n  background-color: var(--color-grey-light-3);\n  margin-bottom: 8rem;\n  min-height: 100vh; }\n\n.myLeads {\n  margin: 0 auto;\n  margin-top: 13rem;\n  min-width: 320px; }\n\n.leads {\n  margin-top: 3rem;\n  direction: rtl;\n  width: 100%;\n  text-align: right;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start; }\n\n.leads--empty {\n  height: 10rem;\n  padding: 2rem;\n  display: flex;\n  align-items: center;\n  justify-content: center; }\n\n.leads--empty::after {\n  font-size: 1.6rem;\n  content: attr(data-empty);\n  color: var(--color-primary); }\n\n.leads__heading {\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 2rem;\n  font-weight: 600;\n  align-content: center; }\n\n.leads__row {\n  border-radius: 5px;\n  box-shadow: var(--box-shadow-1);\n  background-color: var(--color-white);\n  margin-bottom: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 2rem;\n  padding: 0 auto;\n  transition: all .15s ease-in-out; }\n\n.leads__row:hover {\n  transform: translateY(-0.1rem);\n  background-color: var(--color-grey-light-2);\n  box-shadow: var(--box-shadow-2);\n  cursor: pointer; }\n\n.leads__row:active {\n  transform: translateY(0);\n  box-shadow: var(--box-shadow-1); }\n\n.leads__cell {\n  padding: 1rem; }\n\n.leads__title {\n  display: flex;\n  flex-direction: column; }\n\n.leads__name {\n  font-weight: 500;\n  font-size: 1.8rem !important; }\n\n.leads__desc, .leads__type {\n  font-size: 1.4rem  !important; }\n\n.lead {\n  margin-top: 8rem; }\n\n.lead__cards {\n  background-color: lightblue;\n  height: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 8rem;\n  font-size: 3rem;\n  text-align: center;\n  font-family: inherit;\n  color: var(--color-grey-dark-1); }\n\n.lead__card {\n  margin: 1rem 5rem;\n  width: 90%;\n  min-width: 32rem;\n  max-width: 42rem;\n  direction: rtl;\n  text-align: center;\n  font-size: 2rem;\n  background-color: var(--color-grey-light-1);\n  box-shadow: var(--box-shadow-1);\n  border-radius: 3px;\n  transition: all .2s;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center; }\n\n.lead__card:hover {\n  transform: translateY(-0.1rem);\n  background-color: var(--color-grey-light-2);\n  box-shadow: var(--box-shadow-2);\n  cursor: pointer; }\n\n.lead__card-title {\n  line-height: 4rem;\n  width: 100%;\n  padding: 1rem auto;\n  background: var(--color-grey-bg);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center; }\n\n.lead__card-title span {\n  flex: 1;\n  font: inherit;\n  color: var(--color-primary);\n  font-weight: 600; }\n\n.lead__card-toggle-arrow {\n  margin-left: 2rem;\n  width: 2rem;\n  height: 2rem;\n  fill: var(--color-grey-dark-3);\n  transition: all .8s; }\n\n.lead__card-title:active > .lead__card-toggle-arrow {\n  transform: rotate(-180deg); }\n\n.lead-card {\n  margin: 1rem auto;\n  min-width: 32rem;\n  max-width: 80rem;\n  position: relative;\n  direction: rtl;\n  font-size: 2rem;\n  background-color: var(--color-grey-light-1);\n  box-shadow: var(--box-shadow-1);\n  border-radius: 3px;\n  transition: all .2s;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center; }\n\n.lead-card:hover {\n  transform: translateY(-0.1rem);\n  background-color: var(--color-grey-light-2);\n  box-shadow: var(--box-shadow-2);\n  cursor: pointer; }\n\n.lead-card__title {\n  line-height: 4rem;\n  width: 100%;\n  padding: 1rem auto;\n  background: var(--color-grey-bg);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center; }\n\n.lead-card__title span {\n  flex: 1;\n  font: inherit;\n  color: var(--color-primary);\n  font-weight: 600; }\n\n.lead-card__toggle-arrow {\n  margin-left: 2rem;\n  width: 2rem;\n  height: 2rem;\n  fill: var(--color-grey-dark-3);\n  transition: all .8s; }\n\n.lead-card__title:active > .lead-card__toggle-arrow {\n  transform: rotate(-180deg); }\n\n.lead-card__row {\n  flex: 1;\n  padding: 1rem;\n  width: 100%;\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap; }\n\n.lead-card__label {\n  flex: 0 0 10%;\n  font-size: 1.5rem;\n  text-align: center;\n  font-family: inherit;\n  color: var(--color-grey-dark-1);\n  font-weight: 200;\n  color: var(--color-primary); }\n\n.lead-card__btns {\n  display: flex;\n  align-items: center; }\n\n.lead-card__btns > button {\n  margin: 1rem 3rem; }\n\n.lead-card__commands {\n  line-height: 4rem;\n  width: 100%;\n  padding: 1rem auto;\n  background: var(--color-grey-bg);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center;\n  display: flex; }\n\n.lead-card__command {\n  height: 5rem;\n  text-align: center;\n  font-size: 2.2rem;\n  font-family: inherit;\n  color: var(--color-grey-dark-1);\n  outline: none;\n  border: none;\n  background-color: transparent;\n  border-radius: 2rem;\n  flex: 0 0 20%; }\n\n.lead-card__command svg {\n  width: 2rem;\n  height: 2rem; }\n\n.lead-card__command:hover {\n  cursor: pointer;\n  transform: translateY(-0.2rem);\n  box-shadow: var(--box-shadow-light); }\n\n.lead-card__command:active {\n  transform: translateY(0);\n  box-shadow: none; }\n\n.lead-card__button {\n  height: 5rem;\n  text-align: center;\n  font-size: 2.2rem;\n  font-family: inherit;\n  color: var(--color-grey-dark-1);\n  outline: none;\n  border: none;\n  border-radius: 2rem;\n  flex: 1; }\n\n.lead-card__button svg {\n  width: 2rem;\n  height: 2rem; }\n\n.lead-card__button:hover {\n  cursor: pointer;\n  transform: translateY(-0.2rem);\n  box-shadow: var(--box-shadow-light); }\n\n.lead-card__button:active {\n  transform: translateY(0);\n  box-shadow: none; }\n\n.lead-card__input {\n  width: 50%;\n  height: 5rem;\n  text-align: center;\n  font-size: 2.2rem;\n  font-family: inherit;\n  color: var(--color-grey-dark-1);\n  outline: none;\n  border: none;\n  border-bottom: 3px solid var(--color-grey-light-3);\n  border-bottom-width: 90%; }\n\n.lead-card__input:focus {\n  border-bottom-width: 100%;\n  border-bottom: 3px solid var(--color-primary); }\n\n.lead-card__input:focus:invalid {\n  border-bottom: 3px solid var(--color-secondary); }\n\n.contact-card__wrapper {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: space-evenly; }\n\n.contact-card__card {\n  margin: 1rem; }\n\n.contact-card__form {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: var(--color-white);\n  box-shadow: var(--box-shadow-light);\n  transition: all .2s;\n  padding: 1rem; }\n\n.contact-card__icon {\n  width: 3rem;\n  height: 3rem;\n  fill: currentColor;\n  border-radius: 50%; }\n\n.contact-card__icon:hover {\n  cursor: pointer;\n  background-color: var(--color-grey-bg); }\n\n.contact-card__row {\n  position: relative;\n  margin: 1rem auto;\n  flex: 1;\n  height: 5rem; }\n\n.contact-card__input {\n  border-bottom: 3px solid var(--color-grey-light-3);\n  border-bottom-width: 90%;\n  border-radius: 15px;\n  transition: all .2s;\n  height: 5rem;\n  color: var(--color-grey-dark-1);\n  background-color: var(--color-grey-light-3);\n  margin: 0 auto;\n  height: 100%;\n  text-align: center;\n  font-size: 2.2rem;\n  font-family: inherit;\n  outline: none;\n  border: none; }\n\n.contact-card__input:focus {\n  border-bottom-width: 100%;\n  border-bottom: 3px solid var(--color-primary); }\n\n.contact-card__input:focus:invalid {\n  border-bottom: 3px solid var(--color-secondary); }\n\n.contact-card__label {\n  color: var(--color-primary-light);\n  position: absolute;\n  font-size: 1.5rem;\n  top: 0;\n  right: 5%;\n  opacity: .9; }\n\n.contact-card__role-user {\n  color: var(--color-grey-dark-3);\n  transition: all .2s;\n  border-radius: 50%; }\n\n.contact-card__role-text {\n  font-size: 1.5rem;\n  font-weight: 600;\n  border-radius: 1rem;\n  color: var(--color-primary-light);\n  background-color: var(--color-grey-bg); }\n\n.contact-card__radio {\n  display: none; }\n\n.contact-card__radio:checked + .contact-card__role-user {\n  background-color: var(--color-primary-light);\n  color: var(--color-grey-light-3); }\n\n.contact-card__input input:focus + .contact-card__label {\n  opacity: .3; }\n\n.contact-card__btns {\n  width: 100%;\n  display: flex;\n  justify-content: space-between; }\n\n.contact-card__button {\n  height: 5rem;\n  text-align: center;\n  font-size: 2.2rem;\n  font-family: inherit;\n  color: var(--color-grey-dark-1);\n  outline: none;\n  border: none;\n  border-radius: 2rem;\n  flex: 1; }\n\n.contact-card__button svg {\n  width: 2rem;\n  height: 2rem; }\n\n.contact-card__button:hover {\n  cursor: pointer;\n  transform: translateY(-0.2rem);\n  box-shadow: var(--box-shadow-light); }\n\n.contact-card__button:active {\n  transform: translateY(0);\n  box-shadow: none; }\n\n.lead-follow {\n  width: 100%; }\n\n.lead-follow__list {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: stretch; }\n\n.lead-follow__row {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font: inherit;\n  margin: .5rem 1rem;\n  transition: all .2s;\n  border-radius: 5px; }\n\n.lead-follow__row:hover {\n  background-color: var(--color-grey-bg); }\n\n.lead-follow__last-follow {\n  padding: .5rem;\n  font-size: 1.4rem;\n  background-color: var(--color-grey-bg);\n  color: var(--color-grey-dark-2);\n  font-weight: 500;\n  text-align: center;\n  font-style: italic;\n  flex: 1; }\n\n.lead-follow__date {\n  font-size: 1.8rem;\n  margin-left: 2rem; }\n\n.lead-follow__text {\n  font-size: 1.8rem;\n  overflow-wrap: break-word;\n  flex: 1; }\n\n.lead-tasks {\n  width: 100%;\n  font-size: 1.8rem; }\n\n.lead-tasks__list {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: stretch; }\n\n.lead-tasks__section-row {\n  margin: 2rem auto 1rem;\n  text-align: center;\n  font-size: 1.2rem;\n  text-align: center;\n  color: var(--color-grey-dark-3);\n  transition: all .4s;\n  display: flex;\n  justify-content: space-between;\n  align-items: center; }\n\n.lead-tasks__section-row:hover {\n  font-size: 1.8rem;\n  background-color: var(--color-grey-dark-3);\n  transform: translateY(-0.2rem);\n  color: var(--color-white); }\n\n.lead-tasks__section-row:hover > #arrow {\n  fill: var(--color-white); }\n\n.lead-tasks__section-row:active {\n  transform: translateY(0); }\n\n.lead-tasks__section-row:active > #arrow {\n  transform: rotate(-180deg); }\n\n.lead-tasks__section-title {\n  font-size: 1.2rem;\n  flex: 1; }\n\n.lead-tasks__row {\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  font: inherit;\n  margin: .5rem 1rem;\n  transition: all .2s;\n  border-radius: 5px;\n  color: var(--color-grey-dark-1); }\n\n.lead-tasks__row:hover {\n  background-color: var(--color-grey-bg); }\n\n.lead-tasks__row--done {\n  color: var(--color-grey-dark-3); }\n\n.lead-tasks__row--done:hover {\n  color: var(--color-grey-dark-1); }\n\n.lead-tasks__date {\n  font-size: 1.8rem;\n  margin-left: 2rem; }\n\n.lead-tasks__text {\n  font-size: 1.8rem;\n  overflow-wrap: break-word;\n  flex: 2; }\n\n.lead-tasks__button {\n  border-radius: 1rem;\n  border: none;\n  outline: none;\n  font-size: 2rem;\n  background: var(--color-primary-light);\n  color: var(--color-white);\n  flex: 0 0 10%;\n  opacity: .6;\n  transition: all .2s; }\n\n.lead-tasks__button--done {\n  background: var(--color-red); }\n\n.lead-tasks__button:hover {\n  background: var(--color-primary);\n  opacity: 1;\n  cursor: pointer; }\n\n.lead-status {\n  display: flex;\n  width: 100%;\n  justify-content: space-between; }\n\n.lead-status__button {\n  flex: 1;\n  border-radius: 15px;\n  font-size: 2rem;\n  border: none;\n  outline: none;\n  font-family: inherit;\n  background-color: transparent;\n  color: var(--color-grey-dark-1);\n  transition: all .2s; }\n\n.lead-status__button--done {\n  background-color: var(--color-primary-light); }\n\n.lead-status__button--done:hover {\n  cursor: pointer;\n  background-color: var(--color-red-trs); }\n\n.lead-status__button--open:hover {\n  cursor: pointer;\n  font-size: 2.1rem;\n  color: var(--color-primary);\n  background-color: var(--color-grey-bg); }\n\n.lead-status__button--open:active {\n  cursor: progress;\n  font-size: 2rem;\n  color: var(--color-grey-dark-1);\n  background-color: var(--color-grey-bg); }\n\n.container--search {\n  margin-top: 8rem;\n  margin-bottom: 8rem;\n  background-color: var(--color-grey-light-3);\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  position: relative; }\n\n.mySearch {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-end;\n  direction: rtl; }\n\n.mySearch__results {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  direction: rtl;\n  margin-bottom: 8rem; }\n\n.mySearch__row {\n  border-radius: 5px;\n  line-height: 5rem;\n  box-shadow: var(--box-shadow-light);\n  background-color: var(--color-white);\n  margin-bottom: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-size: 2rem;\n  padding: 0 auto;\n  transition: all .15s ease-in-out; }\n\n.mySearch__row:hover {\n  transform: translateY(-0.1rem);\n  background-color: var(--color-grey-light-2);\n  box-shadow: var(--box-shadow-2);\n  cursor: pointer; }\n\n.mySearch__row:active {\n  transform: translateY(0);\n  box-shadow: var(--box-shadow-1); }\n\n.mySearch__search-box {\n  position: fixed;\n  bottom: 8rem;\n  border-radius: 15px;\n  width: 90%;\n  max-width: 80rem;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--color-grey-bg);\n  color: var(--color-grey-dark-3);\n  box-shadow: var(--box-shadow-light); }\n\n.mySearch__input {\n  flex: 1;\n  line-height: 5rem;\n  border-radius: 0 15px 15px 0;\n  padding: 1.5rem;\n  text-align: right;\n  font-size: 3rem;\n  font-family: inherit;\n  border: none;\n  outline: none;\n  width: 100%;\n  transition: all .2s ease-in; }\n\n.mySearch__input::placeholder {\n  color: var(--color-grey-light-3);\n  text-align: center; }\n\n.mySearch__icon {\n  fill: currentColor;\n  width: 4rem;\n  height: 4rem; }\n\n.mySearch__input:focus + .mySearch__icon {\n  opacity: .3; }\n\n.container--settings {\n  margin-top: 13rem;\n  margin-bottom: 8rem;\n  background-color: var(--color-grey-light-3);\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center; }\n\n.setGroup {\n  margin: 1rem 5rem;\n  width: 90%;\n  min-width: 32rem;\n  max-width: 42rem;\n  direction: rtl;\n  text-align: center;\n  font-size: 2rem;\n  background-color: var(--color-grey-light-1);\n  box-shadow: var(--box-shadow-1);\n  border-radius: 3px;\n  transition: all .2s;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center; }\n\n.setGroup:hover {\n  transform: translateY(-0.1rem);\n  background-color: var(--color-grey-light-2);\n  box-shadow: var(--box-shadow-2);\n  cursor: pointer; }\n\n.setGroup:active {\n  transform: translateY(0);\n  box-shadow: var(--box-shadow-1); }\n\n.setGroup__title {\n  line-height: 4rem;\n  width: 100%;\n  padding: 1rem auto;\n  background: var(--color-grey-bg);\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center; }\n\n.setGroup__title span {\n  flex: 1;\n  font: inherit;\n  color: var(--color-primary);\n  font-weight: 600; }\n\n.setGroup__toggle-arrow {\n  margin-left: 2rem;\n  width: 2rem;\n  height: 2rem;\n  fill: var(--color-grey-dark-3);\n  transition: all .8s; }\n\n.setGroup__title:active > .setGroup__toggle-arrow {\n  transform: rotate(-180deg); }\n\n.setGroup__row {\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font: inherit;\n  margin: .5rem .5rem;\n  transition: all .2s;\n  border-radius: 5px; }\n\n.setGroup__row:hover {\n  background-color: var(--color-grey-bg); }\n\n.setGroup__row:hover > .setGroup__delete {\n  color: var(--color-primary);\n  font-weight: 600; }\n\n.setGroup__delete {\n  flex: 0 0 10%;\n  font-size: 1.5rem;\n  border-radius: 50%;\n  color: var(--color-grey-dark-3);\n  transition: all .2s; }\n\n.setGroup__delete:hover {\n  color: var(--color-red) !important;\n  transform: scale(1.2);\n  font-weight: 600; }\n\n.setGroup__label {\n  font: inherit;\n  flex: 1;\n  text-align: center; }\n',""])},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(i=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(a).concat([o]).join("\n")}var i;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var a=this[o][0];"number"==typeof a&&(r[a]=!0)}for(o=0;o<t.length;o++){var i=t[o];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},function(t,e,n){var r,o,a={},i=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),l=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),s=null,c=0,u=[],d=n(26);function f(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=a[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(_(r.parts[i],e))}else{var l=[];for(i=0;i<r.parts.length;i++)l.push(_(r.parts[i],e));a[r.id]={id:r.id,refs:1,parts:l}}}}function p(t,e){for(var n=[],r={},o=0;o<t.length;o++){var a=t[o],i=e.base?a[0]+e.base:a[0],l={css:a[1],media:a[2],sourceMap:a[3]};r[i]?r[i].parts.push(l):n.push(r[i]={id:i,parts:[l]})}return n}function m(t,e){var n=l(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),u.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=l(t.insertAt.before,n);n.insertBefore(e,o)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=u.indexOf(t);e>=0&&u.splice(e,1)}function h(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return v(e,t.attrs),m(t,e),e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function _(t,e){var n,r,o,a;if(e.transform&&t.css){if(!(a=e.transform(t.css)))return function(){};t.css=a}if(e.singleton){var i=c++;n=s||(s=h(e)),r=w.bind(null,n,i,!1),o=w.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(e,t.attrs),m(t,e),e}(e),r=function(t,e,n){var r=n.css,o=n.sourceMap,a=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||a)&&(r=d(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var i=new Blob([r],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}.bind(null,n,e),o=function(){g(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(e),r=function(t,e){var n=e.css,r=e.media;r&&t.setAttribute("media",r);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){g(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=p(t,e);return f(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var i=n[o];(l=a[i.id]).refs--,r.push(l)}t&&f(p(t,e),e);for(o=0;o<r.length;o++){var l;if(0===(l=r[o]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete a[l.id]}}}};var b,y=(b=[],function(t,e){return b[t]=e,b.filter(Boolean).join("\n")});function w(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=y(e,o);else{var a=document.createTextNode(o),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(a,i[e]):t.appendChild(a)}}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a)?t:(o=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:r+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){"use strict";var r=i(n(0)),o=i(n(5)),a=i(n(7));function i(t){return t&&t.__esModule?t:{default:t}}var l={oninit:function(t){console.log("initialize login page"),t.state.valid=!0},onupdate:function(t){if(!t.state.valid){var e=t.dom.querySelector(".login__form");return e.classList.add("shake"),new Promise(function(n,r){t.dom.addEventListener("animationend",function(){e.classList.remove("shake")})})}},view:function(t){return(0,r.default)("div",{class:"login"},(0,r.default)(o.default,{title:"התחבר למערכת"}),(0,r.default)("form",{class:"login__form",onsubmit:function(e){!function(t,e){t.preventDefault();var n=t.target.elements,r=n.uMail.value,o=n.uPass.value;a.default.loginUser(r,o,e)}(e,t)}},(0,r.default)("div",{class:"login__row"},(0,r.default)("input",{type:"email",id:"uMail",name:"uMail",class:"login__input",placeholder:"אימייל",required:!0,autofocus:!0}),(0,r.default)("label",{for:"uMail",class:"login__label"},"שם משתמש")),(0,r.default)("div",{class:"login__row"},(0,r.default)("input",{type:"password",id:"uPass",name:"uPass",class:"login__input",minLength:"4",autocomplete:"current-password",placeholder:"סיסמא",required:!0}),(0,r.default)("label",{for:"uPass",class:"login__label"},"סיסמא")),(0,r.default)("div",{class:"login__row"},(0,r.default)("button",{type:"submit",class:"btn btn--def"},"שלח"))))}};t.exports=l},function(t,e,n){"use strict";var r=a(n(0)),o=a(n(29));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oncreate:function(t){},view:function(t){return(0,r.default)("div",{class:"menu"},(0,r.default)("input",{type:"checkbox",class:"menu__check",id:"navi-toggle"}),(0,r.default)("label",{for:"navi-toggle",class:"menu__button"},(0,r.default)("span",{class:"menu__icon"}," ")),(0,r.default)(o.default,null))}}}},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{oncreate:function(t){document.querySelector("#navi-toggle").addEventListener("change",function(){this.checked?t.dom.classList.add("sidebar--show"):t.dom.classList.remove("sidebar--show")})},view:function(t){return(0,a.default)(".sidebar",[(0,a.default)(".sidebar__row",{onclick:function(t){return a.default.route.set("/")}},[(0,a.default)("span.sidebar__label","צא מהמערכת"),(0,a.default)(".sidebar__link",[(0,a.default)("svg.sidebar__icon",(0,a.default)("use",{href:"/img/sprite.svg#icon-login"}))])]),(0,a.default)(".sidebar__row",{onclick:function(t){return console.log("TODO!!! go to user page")}},[(0,a.default)("span.sidebar__label","הפרופיל שלי"),(0,a.default)(".sidebar__link",[(0,a.default)("svg.sidebar__icon",(0,a.default)("use",{href:"/img/sprite.svg#icon-user"}))])]),(0,a.default)(".sidebar__row",{onclick:function(t){return a.default.route.set("/settings")}},[(0,a.default)("span.sidebar__label","הגדרות"),(0,a.default)(".sidebar__link",[(0,a.default)("svg.sidebar__icon",(0,a.default)("use",{href:"/img/sprite.svg#icon-tools"}))])])])}}}},function(t,e,n){"use strict";var r=n(13);t.exports={signIn:function(t,e){return r.auth.signInWithEmailAndPassword(t,e)},logout:function(){firebase.auth.signOut().then(function(){localStorage.removeItem("token")},function(t){return console.error(t)})},isUserLoggedIn:function(){return!!sessionStorage.getItem("token")}}},function(t,e,n){"use strict";var r=c(n(0)),o=(c(n(2)),c(n(3))),a=c(n(5)),i=c(n(6)),l=c(n(32)),s=c(n(35));function c(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oncreate:function(t){t.dom.querySelectorAll("form").forEach(function(e){return e.classList.add("fade-in"),new Promise(function(n,r){t.dom.addEventListener("animationend",function(){e.classList.remove("fade-in")})})})},view:function(t){return(0,r.default)("div",{class:"container--addLead"},(0,r.default)(a.default,{title:"פנייה חדשה"}),(0,r.default)(l.default,{parent:t,formData:o.default.formDataContact,filters:o.default.filtersAddContact}),(0,r.default)(s.default,{parent:t,formData:o.default.formDataLead,style:t.state.activeContact?"display:block":"display:none"}),(0,r.default)(i.default,null))}}}},function(t,e,n){"use strict";var r=f(n(0)),o=n(1),a=n(4),i=f(n(33)),l=f(n(34)),s=f(n(14)),c=f(n(11)),u=f(n(15)),d=f(n(2));function f(t){return t&&t.__esModule?t:{default:t}}function p(t,e,n){return t.length<2?[]:d.default[n].filter(function(n){return-1!==(n[e]||"").indexOf(t.trim())})}function m(t,e){var n=e.attrs.parent,a=t.path[1].id;(0,o.getDoc)("contacts",a).then(function(t){n.state.activeContact=Object.assign(t.data(),{id:a}),r.default.redraw()})}t.exports=function(t){return{oninit:function(t){t.state.term=""},onbeforeupdate:function(t){t.state.list=p(t.state.term,"name","storeContacts")},view:function(t){return t.attrs.parent.state.activeContact?(0,r.default)(".form",function(t,e){var n=[{cmd:"unAssign",label:"הסר מליד זה",func:function(t){return e.attrs.parent.state.activeContact=!1}},{cmd:"edit",label:"ערוך איש קשר",func:function(t){return console.log("TODO! goto contact full page via contacts/:id ")}}];return(0,r.default)(".row#"+t.id,[(0,r.default)("svg.row__icon",(0,r.default)("use",{href:"/img/sprite.svg#icon-user"})),Object.keys(t).map(function(e,n){return"id"==e?"":(0,r.default)("span.row__span",t[e])}),(0,r.default)(c.default,{list:n})])}(t.attrs.parent.state.activeContact,t)):(0,r.default)("form.form",{autocorrect:"off",autocapitalize:"off",spellcheck:"false",autocomplete:"off",onsubmit:function(e){return function(t,e){t.preventDefault(),e.attrs.filters.map(function(n){if(n.active){if("add"!==n.type)return;var o=t.target,i=(0,a.getFormValues)(o);if(!i)return;var l=new u.default("",i);l.add("contacts").then(function(t){e.attrs.parent.state.activeContact=l._data,e.attrs.parent.state.activeContact.id=l.getID(),o.reset(),r.default.redraw()},function(t){return console.error(t)})}})}(e,t)}},[(0,r.default)(".heading",(0,r.default)(".heading__secondary",t.attrs.formData.meta.heading)),(0,r.default)(i.default,{filters:t.attrs.filters}),t.attrs.filters.map(function(e){if(e.active){if("add"==e.type)return function(t,e){var n=t.meta,o=t.data;return Object.keys(o).map(function(t,a){var i=o[t];return e.state["term"+t]="",o[t].input?(0,r.default)(".form__row",{key:a,style:"position:relative"},[(0,r.default)("input#"+t+'[class="form__input '+n.class+'"]',Object.assign({},i.input,{onkeyup:function(n){e.state["term"+t]=n.target.value,e.state["list"+t]=p(e.state["term"+t],t,"storeContacts"),function(t){t.path[1].querySelectorAll(".searchList > .searchList__row").length>0?t.target.setCustomValidity("כבר קיים ערך כזה , הזן ערך חדש או בחר מתוך הרשימה"):t.target.setCustomValidity("")}(n)}})),(0,r.default)('label[class="form__label"]',{for:t},i.label.text),(0,r.default)(s.default,{parent:e,inputID:t,list:e.state["list"+t],func:function(t){return m(t,e)}})]):o[t].textarea?[(0,r.default)(".form__row",{key:a},[(0,r.default)('textarea[class="form__input '+n.class+'"]',i.textarea)])]:void 0})}(t.attrs.formData,t);if("search"==e.type)return[(0,r.default)(".form__row",{style:"position:relative"},[(0,r.default)(l.default,{label:"חפש איש לפי שם",parent:t}),(0,r.default)(s.default,{parent:t,displayField:"name",list:t.state.list,func:function(e){return m(e,t)}})])]}}),(0,r.default)("div",[(0,r.default)('button[class="btn btn--def"]',{type:"submit"},"הוסף")])])}}}},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{view:function(t){return(0,a.default)(".filterGroup",[t.attrs.filters.map(function(e){return(0,a.default)(".filterGroup__item",{onclick:function(n){return function(t,e){t.attrs.filters.map(function(t){t.title==e.title?e.active=!0:t.active=!1})}(t,e)},class:e.active?"filterGroup__item--active":""},[e.title])})])}}}},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r},i=n(1);t.exports=function(t){var e=0;return{view:function(t){return(0,a.default)(".searchBox",[(0,a.default)('input[type="search"][class="searchBox__input"]',{placeholder:t.attrs.label||"חפש...",autofocus:!0,oninput:function(e){return t.attrs.parent.state.term=e.target.value},onkeydown:function(n){var r=t.attrs.parent,o=r.dom.querySelectorAll(".searchList__row");if(0!=o.length)if("ArrowDown"==n.code||"ArrowUp"==n.code)switch(o.forEach(function(t){return t.classList.remove("searchList__row--active")}),console.log(e,o.length),(e==o.length||e<0)&&(e=0),o[e].classList.add("searchList__row--active"),n.code){case"ArrowDown":e++;break;case"ArrowUp":e--}else if("Enter"==n.code){var l=r.dom.querySelector(".searchList__row--active");if(!l)return;!function(t,e){console.log("START function setActiveContact(e,vnode)");var n=t.attrs.parent.attrs.parent;(0,i.getDoc)("contacts",e).then(function(t){n.state.activeContact=Object.assign(t.data(),{id:e}),console.log(n.state.activeContact),a.default.redraw()})}(t,l.id)}}}),(0,a.default)("svg.searchBox__icon",[(0,a.default)("use",{href:"/img/sprite.svg#icon-magnifying-glass"})])])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(3)),a=l(n(2)),i=l(n(36));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){t.state.term=""},onbeforeupdate:function(t){var e,n,r;t.state.list=(e=t.state.term,n="name",r="storeLeads",e.length<2?[]:a.default[r].filter(function(t){var r=t[n]||"";return-1!==r.indexOf(e)}))},view:function(t){var e=o.default.formDataLeadArr;return(0,r.default)("form#leadForm.form",{style:t.attrs.parent.state.activeContact?"display:block":"display:none",autocorrect:"off",autocapitalize:"off",spellcheck:"false",autocomplete:"off",onsubmit:function(e){return function(t,e){t.preventDefault();var n=t.target.elements,r={};for(var o in n){var a=n[o];a.name&&a.value&&(r[a.name]=a.value||"")}var l=new i.default("",r),s="contacts/"+e.attrs.parent.state.activeContact.id;l.addLeadToExistContact(l,s),t.target.reset(),e.attrs.parent.state.activeContact=!1}(e,t)}},[(0,r.default)(".heading",(0,r.default)(".heading__secondary",t.attrs.formData.meta.heading)),e.map(function(t,e){var n=t.meta.inputType,a=t.meta.inputID,i=t.label?t.label.text:"";switch(!0){case"input"==n:return(0,r.default)(".form__row",{key:"formRow"+e},[(0,r.default)("input#"+a+".form__input",t.options),(0,r.default)("labe.form__label",{for:a},i)]);case"textarea"==n:return(0,r.default)(".form__row",{key:"formRow"+e,style:"position:relative"},[(0,r.default)("textarea.form__input",t.options)]);case"select"==n:var l=t.meta.list;return(0,r.default)(".form__row",{key:"formRow"+e,style:"position:relative"},[(0,r.default)("select.form__input.form__select",t.options,[(0,r.default)("option",{value:""},"--בחר--"),o.default[l].map(function(t,e){return(0,r.default)("option",{key:"opt"+e,value:t.id},t.label)})])])}}),(0,r.default)("div",[(0,r.default)('button[class="btn btn--def"]',{type:"submit"},"הוסף")])])}}}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=l(n(0)),a=(n(1),l(n(7))),i=l(n(10));function l(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(r)));return i._data.assigns=[{assignRef:a.default.getUser("path"),role:"main"}],i._data.followDate=new Date,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.default),r(e,[{key:"addLeadToExistContact",value:function(t,e){var n=[{role:"main",contactRef:e}];t.setData("contacts",n),t.add("leads").then(function(e){var n=/\/(.+)/.exec(t.getID())[1];console.log("navigate to page myLeads/"+n),o.default.route.set("/myLeads/"+n),o.default.redraw()})}}],[{key:"addLeadAndContact",value:function(t,e){console.log("step 1: add Contact data=>",t._data),t.add("contacts").then(function(n){var r=[{role:"main",contactRef:t.getID()}];e.setData("contacts",r),e.add("leads")})}}]),e}();t.exports=s},function(t,e,n){"use strict";var r=s(n(0)),o=s(n(38)),a=s(n(5)),i=s(n(6)),l=s(n(8));function s(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){window.scrollTo(0,0)},view:function(t){return(0,r.default)(".container--myTasks",[(0,r.default)(a.default,{title:"המשימות שלי"}),(0,r.default)("main.myTasks",[(0,r.default)(o.default)]),(0,r.default)(i.default),(0,r.default)(l.default)])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(39)),a=l(n(40)),i=l(n(2));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){t.state.openTasks=[]},onbeforeupdate:function(t){t.state.openTasks=i.default.storeTasks.filter(function(t){return!0!==t.done})},view:function(t){return t.state.openTasks[0]?(0,r.default)(".tasks",[(0,r.default)(".tasks__heading",[(0,r.default)(".tasks__cell","פולואפ"),(0,r.default)(".tasks__cell","משימה"),(0,r.default)(".tasks__cell","שיוך לליד"),(0,r.default)(".tasks__cell","ביצוע")]),t.state.openTasks.map(function(t){return(0,r.default)(o.default,{task:t})}),(0,r.default)(a.default,{oncreate:function(t){return t.dom.classList.add("snackbar__show")},text:"שים לב! יש לך "+t.state.openTasks.length+" משימות פתוחות לטיפול"})]):(0,r.default)(".tasks.tasks--empty",{"data-empty":"כל הכבוד אין משימות פתוחות"})}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(2)),a=n(1),i=n(4);function l(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){!function(t){var e=t.attrs.task.ref,n=/leads\/([^\/]+)/.exec(e)[1];t.state.leadID=n;var r=o.default.storeLeads.filter(function(e){return e.id==t.state.leadID});t.state.leadData=r[0]}(t)},view:function(t){var e=t.attrs.task,n="לא הוגדר";return e.followDate&&(n=(0,i.dateDiffDays)(e.followDate.toDate()),console.log(n)),(0,r.default)(".tasks__row",{id:e.id,onclick:function(e){return function(t,e){console.log("TODO nav to task popup or page by set task id as param to routes ",e.dom.id)}(0,t)}},[(0,r.default)(".tasks__cell.tasks__follow",n),(0,r.default)(".tasks__cell",e.text),(0,r.default)(".tasks__cell.tasks__link",{onclick:function(e){return function(t,e){"לא משוייך לליד"!=t.target.innerText&&r.default.route.set("/myLeads/"+e.state.leadID)}(e,t)}},t.state.leadData?t.state.leadData.description:"לא משוייך לליד"),(0,r.default)("button.tasks__cell.tasks__button",{onclick:function(e){return function(t,e){var n="leads/"+e.state.leadID+"/tasks",r=t.path[1].id;(0,a.updateDoc)(n,r,{done:!0})}(e,t)}},"בוצע")])}}}},function(t,e,n){"use strict";var r,o=n(0),a=(r=o)&&r.__esModule?r:{default:r};t.exports=function(t){return{oncreate:function(t){setTimeout(function(){t.dom.classList.remove("snackbar__show")},3e3)},view:function(t){return(0,a.default)(".snackbar",[(0,a.default)("span.snackbar__text",t.attrs.text)])}}}},function(t,e,n){"use strict";var r=d(n(0)),o=d(n(2)),a=d(n(3)),i=d(n(5)),l=d(n(16)),s=d(n(6)),c=d(n(8)),u=d(n(42));function d(t){return t&&t.__esModule?t:{default:t}}function f(t){t.state.filters.forEach(function(t){var e=o.default.storeLeads.filter(function(e){var n=function(t){var e=a.default.allLeadTypes.filter(function(e){return e.id==t});if(e.length>0){var n=/setLeadGroup\/([^\/]+)/.exec(e[0].col),r=n[1];return r}return"notAssign"}(e.type);return t.id==n});t.count=e.length})}t.exports=function(t){return{oninit:function(t){window.scrollTo(0,0),t.state.filters=a.default.leadGroupsList,f(t)},onbeforeupdate:function(t){t.state.filters=a.default.leadGroupsList,f(t)},view:function(t){return(0,r.default)("container--myLeads",[(0,r.default)(i.default,{title:"הלידים שלי"}),(0,r.default)(l.default,{filters:t.state.filters}),(0,r.default)("main.myLeads",(0,r.default)(u.default,{filters:t.state.filters})),(0,r.default)(s.default),(0,r.default)(c.default)])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(3)),a=l(n(2)),i=l(n(43));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{onbeforeupdate:function(t){!function(t){o.default.leadGroupsList.map(function(e){e.active&&(t.state.active=e.id)})}(t)},view:function(t){var e=function(t){return a.default.storeLeads.filter(function(e){var n=e.type,r=function(t){var e=o.default.allLeadTypes.filter(function(e){return e.id==t});if(e.length>0){var n=/setLeadGroup\/([^\/]+)/.exec(e[0].col),r=n[1];return r}return"notAssign"}(n);return t.state.active?t.state.active==r:"notAssign"==r})}(t);return e[0]?(0,r.default)(".leads",[(0,r.default)(".leads__heading",[(0,r.default)(".leads__cell","ליד"),(0,r.default)(".leads__cell","תיאור"),(0,r.default)(".leads__cell","פולואפ")]),e.map(function(t){return(0,r.default)(i.default,{lead:t})})]):(0,r.default)(".leads.leads--empty",{"data-empty":"כל הכבוד אין לידים פתוחים"})}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(2)),a=l(n(3)),i=n(4);function l(t){return t&&t.__esModule?t:{default:t}}function s(t){var e=o.default.storeContacts.filter(function(e){var n=t.attrs.lead.contacts[0].contactRef;return"contacts/"+e.id==n});return e[0]?e[0].name:""}t.exports=function(t){return{view:function(t){var e,n,o=t.attrs.lead,l="לא  הוגדר";return o.followDate&&(l=(0,i.dateDiffDays)(o.followDate.toDate())),(0,r.default)(".leads__row",{id:o.id,onclick:function(e){return function(t,e){r.default.route.set("/myLeads/"+e.attrs.lead.id)}(0,t)}},[(0,r.default)(".leads__cell.leads__title",[(0,r.default)("span.leads__name",s(t)),(0,r.default)("span.leads__type",(e=o.type,n=a.default.allLeadTypes.filter(function(t){return t.id==e}),n[0]?n[0].label:""))]),(0,r.default)(".leads__cell.leads__desc",o.description),(0,r.default)(".leads__cell.leads__follow",l)])}}}},function(t,e,n){"use strict";var r=p(n(0)),o=p(n(45)),a=p(n(46)),i=p(n(47)),l=p(n(48)),s=p(n(49)),c=p(n(50)),u=p(n(8)),d=p(n(2)),f=n(1);function p(t){return t&&t.__esModule?t:{default:t}}function m(t){var e=d.default.storeLeads.filter(function(e){return e.id==t.attrs.id});t.state.lead=e[0]}t.exports=function(t){return{oninit:function(t){window.scrollTo(0,document.body.scrollHeight),t.state.cmdList=[{cmd:"deleteLead",label:"מחק ליד",func:function(e){return n=t.attrs.id,(0,f.deleteDoc)("leads",n),void r.default.route.set("/myLeads");var n}}],t.state.contactsCount=0,m(t)},onbeforeupdate:function(t){m(t),function(t){var e=[],n=t.state.lead.contacts,r=function(t){var r=d.default.storeContacts.filter(function(e){return n[t].contactRef=="contacts/"+e.id}),o=Object.assign({},r[0],{role:n[t].role});e.push(o)};for(var o in n)r(o);t.state.contactsData=e}(t),function(t){var e=t.state.contactsData.filter(function(t){return"main"==t.role});t.state.mainContactName=e[0].name}(t),t.state.contactsCount=t.state.contactsData.length},view:function(t){return(0,r.default)(".lead",{id:t.attrs.id},[(0,r.default)(o.default,{title:"פרטי ליד "+(t.state.mainContactName?" - "+t.state.mainContactName:""),backTo:"/myLeads",cmdList:t.state.cmdList}),t.state.lead?(0,r.default)(".cards",[(0,r.default)(a.default,{title:"פרטים כלליים",leadData:t.state.lead,leadTitle:t.state.leadTitle}),(0,r.default)(c.default,{title:"סטטוס",leadID:t.attrs.id}),(0,r.default)(s.default,{title:"משימות",leadID:t.attrs.id}),(0,r.default)(l.default,{title:"פולואפ",leadID:t.attrs.id}),(0,r.default)(i.default,{title:"אנשי קשר "+(t.state.contactsCount?"("+t.state.contactsCount+")":""),rows:t.state.contactsData,leadID:t.attrs.id,leadData:t.state.lead})]):(0,r.default)("span.loader","טוען..."),(0,r.default)(u.default)])}}}},function(t,e,n){"use strict";var r=a(n(0)),o=a(n(11));function a(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{view:function(t){return(0,r.default)(".header-full-page",[(0,r.default)("span.header-full-page__arrow",{onclick:function(e){return r.default.route.set(t.attrs.backTo)}},String.fromCharCode(10132)),(0,r.default)("span.header-full-page__title",t.attrs.title||"כותרת"),(0,r.default)(o.default,{list:t.attrs.cmdList})])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=n(1),a=n(4),i=l(n(3));l(n(2));function l(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){t.state.shrink=t.attrs.shrink||!1},view:function(t){var e=i.default.formDataLeadArr;return(0,r.default)("form.lead-card",{onsubmit:function(e){return function(t,e){t.preventDefault();var n=e.attrs.leadData.id,r=t.target,i=(0,a.getFormValues)(r);(0,o.updateDoc)("leads",n,i)}(e,t)}},[(0,r.default)(".lead-card__title",{onclick:function(e){return function(t,e){e.state.shrink?e.state.shrink=!1:e.state.shrink=!0}(0,t)}},[(0,r.default)("span",t.attrs.title),(0,r.default)("svg#arrow.lead-card__toggle-arrow",(0,r.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-down"}))]),e&&t.attrs.leadData&&!t.state.shrink?e.map(function(e,n){var o=e.meta.inputType,a=e.meta.inputID,l=e.label?e.label:"";switch(!0){case"input"==o:return(0,r.default)(".lead-card__row",{key:"formRow"+n,style:"position:relative"},[(0,r.default)(o+".lead-card__input",Object.assign({},e.options,{value:t.attrs.leadData[a]})),(0,r.default)("label.lead-card__label",l)]);case"textarea"==o:return(0,r.default)(".lead-card__row",{key:"formRow"+n,style:"position:relative"},[(0,r.default)(o+".lead-card__input",Object.assign({},e.options,{value:t.attrs.leadData[a]}))]);case"select"==o:var s=e.meta.list;return console.log(s),(0,r.default)(".lead-card__row",{key:"formRow"+n,style:"position:relative"},[(0,r.default)("select.lead-card__input",Object.assign({},e.options),[(0,r.default)("option",{value:""},"--בחר--"),i.default[s].map(function(e,n){return(0,r.default)("option",{key:"opt"+n,value:e.id,selected:e.id==t.attrs.leadData[a]},e.label)})])])}}):[],t.attrs.leadData&&!t.state.shrink?(0,r.default)(".lead-card__btns",[(0,r.default)("button.btn.btn--def","עדכן"),(0,r.default)("button.btn.btn--def.btn--red","בטל")]):[]])}}}},function(t,e,n){"use strict";var r=u(n(0)),o=n(1),a=n(4),i=u(n(3)),l=u(n(2)),s=u(n(15)),c=u(n(14));u(n(11));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e){t.preventDefault(),(0,a.closestByClass)(t.target,"contact-card__form").reset(),r.default.redraw()}function f(t,e){return t.role&&"main"==t.role?-1:e.role&&"main"==e.role?1:0}function p(t,e){e.state.add?e.state.add=!1:(e.state.shrink=!1,e.state.add=!0)}t.exports=function(t){return{oninit:function(t){t.state.shrink=t.attrs.shrink||!0},view:function(t){var e=i.default.formDataContact.data;return(0,r.default)(".lead-card",[(0,r.default)("button.btn.btn--fab.btn--round",{onclick:function(e){return p(0,t)},style:t.state.add?"display:none;":""},(0,r.default)("svg.btn__icon",(0,r.default)("use",{href:"/img/sprite.svg#icon-plus"}))),(0,r.default)(".lead-card__title",{onclick:function(e){return function(t,e){console.log("TODO! toggle group"),e.state.shrink?(console.log("state is shrink => so make it open"),e.state.shrink=!1):(e.state.add=!1,e.state.shrink=!0)}(0,t)}},[(0,r.default)("span",t.attrs.title),(0,r.default)("svg#arrow.lead-card__toggle-arrow",(0,r.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-down"}))]),t.attrs.rows&&!t.state.shrink?(0,r.default)(".contact-card__wrapper",[t.attrs.rows.sort(f).map(function(n,i){if(void 0!==n.id&&""!=n.id)return(0,r.default)(".contact-card__card",{id:n.id,key:i,style:t.state.add?"display:none;":""},[(0,r.default)("form.contact-card__form",{onsubmit:function(t){return function(t,e){t.preventDefault();var n=(0,a.closestByClass)(t.target,"contact-card__card").id,r=t.target,i=(0,a.getFormValues)(r);(0,o.updateDoc)("contacts",n,i)}(t)},autocorrect:"off",autocapitalize:"off",spellcheck:"false",autocomplete:"off"},[(0,r.default)('input[type="checkbox"].contact-card__radio',{onchange:function(e){return function(t,e){if(t.target.checked){t.redraw=!1;var n=t.path[2].id,r=e.attrs.leadData.contacts.map(function(t){return t.contactRef=="contacts/"+n?t.role="main":t.role="any",t});(0,o.updateMapInDoc)("leads",e.attrs.leadID,"contacts",r)}}(e,t)},id:"role"+n.id,value:n.role,name:"role",checked:"main"==n.role}),(0,r.default)(".contact-card__role-user",[(0,r.default)("label.contact-card__toggle",{for:"role"+n.id},(0,r.default)("svg.contact-card__icon",(0,r.default)("use",{href:"/img/sprite.svg#icon-user"})))]),(0,r.default)("span.contact-card__role-text","main"==n.role?"עיקרי":""),Object.keys(e).map(function(t,o){return(0,r.default)(".contact-card__row",{key:"formRow"+(n.id+o),style:"position:relative"},[(0,r.default)("input.contact-card__input",Object.assign({},e[t].input,{value:n[t]})),(0,r.default)("label.contact-card__label",e[t].label)])}),(0,r.default)(".contact-card__btns",[(0,r.default)("button.contact-card__button",{onclick:function(e){return function(t,e){t.redraw=!1;var n=(0,a.closestByClass)(t.target,"contact-card__card").id,r=e.attrs.leadData.contacts.filter(function(t){return t.contactRef!=="contacts/"+n});e.attrs.leadData.contacts.length>1?(e.attrs.leadData.contacts=r,(0,o.updateMapInDoc)("leads",e.attrs.leadID,"contacts",r)):alert("יש להשאיר לפחות איש קשר אחד לכל ליד")}(e,t)}},(0,r.default)("svg",(0,r.default)("use",{href:"/img/sprite.svg#icon-download"}))),(0,r.default)('button[type="submit"].contact-card__button',(0,r.default)("svg",(0,r.default)("use",{href:"/img/sprite.svg#icon-check"}))),(0,r.default)("button.contact-card__button",{onclick:function(t){return d(t)}},(0,r.default)("svg",(0,r.default)("use",{href:"/img/sprite.svg#icon-circle-with-cross"})))])])])})]):[],t.state.add?(0,r.default)(".contact-card__card.contact-card__card--new",{style:t.state.add&&!t.state.shrink?"":"display:none;"},[(0,r.default)("form.contact-card__form.contact-card__form--new",{onsubmit:function(e){return function(t,e){t.preventDefault();var n=t.target,r=(0,a.getFormValues)(n);console.log(r);var o=new s.default("",r);o.addNewSubContact(o,e.attrs.leadID),p(0,e)}(e,t)},autocorrect:"off",autocapitalize:"off",spellcheck:"false",autocomplete:"off"},[Object.keys(e).map(function(n,a){return(0,r.default)(".contact-card__row",{key:"formAddRow"+a,style:"position:relative"},[(0,r.default)("input.contact-card__input",Object.assign({},e[n].input,{onkeyup:function(e){return function(t,e,n){var r,o,a;e.state["term"+n]=t.target.value,e.state["list"+n]=(r=e.state["term"+n],o=n,a="storeContacts",r.length<2?[]:l.default[a].filter(function(t){var e=t[o]||"";return-1!==e.indexOf(r.trim())})),function(t){t.path[1].querySelectorAll(".searchList > .searchList__row").length>0?t.target.setCustomValidity("כבר קיים ערך כזה , הזן ערך חדש או בחר מתוך הרשימה"):t.target.setCustomValidity("")}(t)}(e,t,n)}})),(0,r.default)("label.contact-card__label",e[n].label),(0,r.default)(c.default,{parent:t,inputID:n,list:t.state["list"+n],func:function(e){return function(t,e){var n=t.path[1].id;if(e.attrs.leadData.contacts.filter(function(t){return t.contactRef=="contacts/"+n})[0])return alert("משתמש זה כבר קיים"),void d(t);var r=e.attrs.leadID,a={role:"any",contactRef:"contacts/"+n};(0,o.addToMapInDoc)("leads",r,"contacts",a),p(0,e)}(e,t)}})])}),(0,r.default)(".contact-card__btns",[(0,r.default)('button[type="submit"].btn.btn--def',"הוסף"),(0,r.default)("button.btn.btn--def.btn--red",{onclick:function(e){return p(0,t)}},"בטל")])])]):""])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(12)),a=n(1),i=n(4);function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=+t.date.toDate(),r=+e.date.toDate();return n>r?-1:n<r?1:0}t.exports=function(t){return{oninit:function(t){t.state.lastFollow=!1,t.state.followUps=[],t.state.shrink=t.attrs.shrink||!0,t.state.counter=0},onbeforeupdate:function(t){!function(t){t.state.followUps&&(t.state.counter=t.state.followUps.length)}(t),function(t){var e=t.state.followUps;if(e.length>0){var n=e[0];if(e.length>0)for(var r=1;r<e.length;r++)+e[r]>+n&&(n=e[r]);var o=n.date.toDate();t.state.lastFollow=(0,i.dateDiffDays)(o)}}(t)},oncreate:function(t){(0,a.getFollowUps)(t.attrs.leadID,t)},view:function(t){return(0,r.default)("form.lead-card",{onsubmit:function(e){return updateChanges(e,t)}},[(0,r.default)(".lead-card__title",{onclick:function(e){return(0,i.toggleGroup)(e,t)}},[(0,r.default)("span",t.attrs.title+" ("+t.state.counter+")"),(0,r.default)("svg#arrow.lead-card__toggle-arrow",(0,r.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-down"}))]),t.state.shrink?[]:(0,r.default)(".lead-follow",[(0,r.default)(".lead-follow__list",[(0,r.default)(".lead-follow__last-follow",t.state.lastFollow?"נעקב לאחרונה: "+t.state.lastFollow:""),t.state.followUps.sort(s).map(function(t,e){var n=t.date.toDate(),o=(0,i.formatTime)(n),a=n.getDate()+"/"+Number(n.getMonth()+1);return(0,r.default)(".lead-follow__row",{key:e,id:t.id},[(0,r.default)(".lead-follow__date",a+" ("+o+")"),(0,r.default)(".lead-follow__text",t.text)])})]),(0,r.default)(o.default,{submitFunc:function(e){return function(t,e){t.preventDefault();var n=t.target,o=n.elements[0].value,i={date:new Date,text:o},l="leads/"+e.attrs.leadID+"/followUps";console.log("add to this ref ",l,"\rthis doc",JSON.stringify(i)),(0,a.insertDoc)(l,i).then(function(t){console.log("new doc added",t.path),r.default.redraw()}),n.reset()}(e,t)}})])])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(12)),a=n(1),i=n(4);function l(t){return t&&t.__esModule?t:{default:t}}function s(t,e){var n=+t.dueDate.toDate(),r=+e.dueDate.toDate();return n>r?1:n<r?-1:0}t.exports=function(t){return{oninit:function(t){t.state.tasks=[],t.state.shrink=t.attrs.shrink||!0,t.state.counter=0},onbeforeupdate:function(t){!function(t){if(t.state.tasks){var e=t.state.tasks.filter(function(t){return 0==t.done}),n=t.state.tasks.filter(function(t){return 1==t.done});t.state.openTasks=e,t.state.closedTasks=n,t.state.counter=e.length,t.state.countClosed=n.length}}(t)},oncreate:function(t){(0,a.getTasks)(t.attrs.leadID,t)},view:function(t){return(0,r.default)(".lead-card",[(0,r.default)(".lead-card__title",{onclick:function(e){return(0,i.toggleGroup)(e,t)}},[(0,r.default)("span",t.attrs.title+" ("+t.state.counter+")"),(0,r.default)("svg#arrow.lead-card__toggle-arrow",(0,r.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-down"}))]),t.state.shrink?[]:(0,r.default)(".lead-tasks",[(0,r.default)(".lead-tasks__list",[t.state.openTasks?t.state.openTasks.sort(s).map(function(e,n){var o=e.date.toDate(),i=o.getDate()+"/"+Number(o.getMonth()+1),l=(new Date).setTime(0)-e.dueDate.toDate().setTime(0);return(0,r.default)(".lead-tasks__row",{key:n,id:e.id},[(0,r.default)(".lead-tasks__date",i),(0,r.default)(".lead-tasks__text",e.text),(0,r.default)(".lead-tasks__due",l),(0,r.default)("button.lead-tasks__button",{onclick:function(e){return function(t,e){var n="leads/"+e.attrs.leadID+"/tasks",r=t.path[1].id;(0,a.updateDoc)(n,r,{done:!0})}(e,t)}},"בוצע")])}):[]]),t.state.closedTasks.length>0?(0,r.default)(".lead-tasks__section-row",{onclick:function(e){return function(t,e){var n=e.dom.querySelector("#doneList");"none"==n.style.display?n.style.display="block":n.style.display="none"}(0,t)}},[(0,r.default)(".lead-tasks__section-title","משימות שנסגרו ("+(t.state.countClosed?t.state.countClosed:"")+")"),(0,r.default)("svg#arrow.setGroup__toggle-arrow",(0,r.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-down"}))]):[],(0,r.default)("div#doneList.lead-tasks__list.lead-tasks__list--done",{style:"display:none;"},[t.state.closedTasks?t.state.closedTasks.sort(s).map(function(e,n){var o=e.date.toDate(),i=o.getDate()+"/"+Number(o.getMonth()+1);return(0,r.default)(".lead-tasks__row.lead-tasks__row--done",{key:n,id:e.id},[(0,r.default)(".lead-tasks__date.lead-tasks__date--done",i),(0,r.default)(".lead-tasks__text.lead-tasks__text--done",e.text),(0,r.default)("button.lead-tasks__button.lead-tasks__button--done",{onclick:function(e){return function(t,e){console.log('TODO!! re open task by mark "done:false"');var n="leads/"+e.attrs.leadID+"/tasks",r=t.path[1].id;(0,a.updateDoc)(n,r,{done:!1})}(e,t)}},"שחזר")])}):[]]),(0,r.default)(o.default,{submitFunc:function(e){return function(t,e){t.preventDefault();var n=t.target,o=n.elements[0].value,i=JSON.parse(sessionStorage.getItem("User"));if(i){var l={assignRef:i.path||"",role:"main"},s={date:new Date,dueDate:new Date,text:o,done:!1,assigns:[l]},c="leads/"+e.attrs.leadID+"/tasks";console.log("add to this ref ",c,"\rthis doc",JSON.stringify(s)),(0,a.insertDoc)(c,s).then(function(t){console.log("new doc added",t.path),r.default.redraw()}),n.reset()}}(e,t)}})])])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(3)),a=n(1),i=n(4);function l(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){t.state.tasks=[],t.state.shrink=t.attrs.shrink||!1},oncreate:function(t){(0,a.getStatus)(t.attrs.leadID,t)},onbeforeupdate:function(t){!function(t){if(t.state.status){var e=(0,i.mapToObj)(t.state.status),n=o.default.setLeadStatus.map(function(t){var n=t.id;return e[n]?e[n]:t});console.log(n),t.state.statusObj=n}}(t)},view:function(t){return(0,r.default)(".lead-card",[(0,r.default)(".lead-card__title",{onclick:function(e){return(0,i.toggleGroup)(e,t)}},[(0,r.default)("span",t.attrs.title),(0,r.default)("svg#arrow.lead-card__toggle-arrow",(0,r.default)("use",{href:"/img/sprite.svg#icon-chevron-thin-down"}))]),t.state.shrink?[]:(0,r.default)(".lead-status",[t.state.statusObj?Object.keys(t.state.statusObj).map(function(e,n){var o=t.state.statusObj[e],i=!!o.done;return(0,r.default)("button.lead-status__button",{disabled:"newLead"==o.id,key:n,id:o.id,class:i?"lead-status__button--done":"lead-status__button--open",onclick:function(e){return function(t,e){var n=t.target,o=n.innerText,i=n.id,l="leads/"+e.attrs.leadID+"/status",s=!0,c="עדכון סטטוס ל - "+o;n.classList.contains("lead-status__button--done")&&(s=!1,c="ביטול סטטוס - "+o);var u={status:o,done:s};(0,a.addOrUpdateDoc)(l,i,u),function(t,e){var n="leads/"+e.attrs.leadID+"/followUps",o={date:new Date,text:t};(0,a.insertDoc)(n,o).then(function(t){console.log("new doc added",t.path),r.default.redraw()})}(c,e)}(e,t)}},o.status)}):[]])])}}}},function(t,e,n){"use strict";var r=l(n(0)),o=l(n(5)),a=l(n(6)),i=l(n(2));l(n(3));function l(t){return t&&t.__esModule?t:{default:t}}function s(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function c(t,e,n){for(var r in e){var o=e[r];if(t[o]&&-1!==t[o].indexOf(n.trim()))return t}return!1}t.exports=function(t){return{oninit:function(t){window.scrollTo(0,document.body.scrollHeight)},view:function(t){return(0,r.default)(".container--search",[(0,r.default)(o.default,{title:"חיפוש"}),(0,r.default)(".mySearch",[(0,r.default)("form.mySearch__search-box",{onsubmit:function(e){return function(t,e){t.preventDefault();var n=t.target,r=n.elements[0].value,o=[],a=i.default.storeContacts.filter(function(t){return c(t,["name","email"],r)}).map(function(t){return{text:t.name,id:t.id}}),l=i.default.storeLeads.filter(function(t){return c(t,["description"],r)}).map(function(t){return{text:t.description,id:t.id}});console.log(i.default.storeTasks);var u=i.default.storeTasks.filter(function(t){return c(t,["text"],r)}).map(function(t){return{text:t.text,id:t.id}});o.push.apply(o,s(a)),o.push.apply(o,s(l)),o.push.apply(o,s(u)),e.state.results=o,n.reset(),window.scrollTo(0,document.body.scrollHeight)}(e,t)}},[(0,r.default)('input[type="search"][class="mySearch__input"]',{name:"search",autofocus:!0,placeholder:"חפש איש קשר או ליד"}),(0,r.default)("svg.mySearch__icon",(0,r.default)("use",{href:"/img/sprite.svg#icon-magnifying-glass"}))]),(0,r.default)(".mySearch__results",[t.state.results?t.state.results.map(function(t){return(0,r.default)(".mySearch__row",{id:t.id},[t.text])}):[]])]),(0,r.default)(a.default)])}}}},function(t,e,n){"use strict";var r=d(n(0)),o=d(n(3)),a=d(n(5)),i=d(n(16)),l=d(n(6)),s=d(n(8)),c=d(n(17)),u=d(n(53));function d(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){t.state.groups=o.default.setGroup,window.scrollTo(0,0)},onbeforeupdata:function(t){t.state.groups=o.default.setGroup},view:function(t){return(0,r.default)(".container--settings",[(0,r.default)(a.default,{title:"הגדרות"}),(0,r.default)(i.default,{filters:t.state.groups}),t.state.groups.map(function(t){switch(!0){case"כללי"==t.label:return t.active?[(0,r.default)(".setGroup","advancedItem2"),(0,r.default)(".setGroup","another adv one")]:[];case"פילוח לידים"==t.label:return t.active?(0,r.default)(u.default):[];default:return t.count=t.groups.length,t.active?t.groups.map(function(t){return(0,r.default)(c.default,{title:t.title,rows:t.data,collection:t.collection})}):[]}}),(0,r.default)(l.default),(0,r.default)(s.default)])}}}},function(t,e,n){"use strict";var r=i(n(0)),o=i(n(3)),a=i(n(17));function i(t){return t&&t.__esModule?t:{default:t}}t.exports=function(t){return{oninit:function(t){console.log(o.default.leadGroupsList)},view:function(t){return[o.default.leadGroupsList.map(function(t,e){return(0,r.default)(a.default,{key:"group"+e,title:t.label,rows:(n=t.id,o.default.allLeadTypes.filter(function(t){return t.col=="setLeadGroup/"+n+"/types"})),collection:"setLeadGroup/"+t.id+"/types"});var n})]}}}}]);